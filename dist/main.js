!function(n){var t={};function e(g){if(t[g])return t[g].exports;var i=t[g]={i:g,l:!1,exports:{}};return n[g].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=n,e.c=t,e.d=function(n,t,g){e.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:g})},e.r=function(n){Object.defineProperty(n,"__esModule",{value:!0})},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./src/styles/index.css\nvar styles = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/input.js\n\n\nconst Input = (function() {\n  let keysDown = [];\n  let keysPressed = [];\n  let mouseEvent = undefined;\n\n  function keyDown(keyCode) {\n    if (keysPressed.indexOf(keyCode) < 0) {\n      keysPressed.push(keyCode);\n    }\n    if (keysDown.indexOf(keyCode) < 0) {\n      keysDown.push(keyCode);\n    }\n  }\n\n  function keyUp(keyCode) {\n    keysDown = keysDown.filter(element => {\n      return element != keyCode;\n    });\n  }\n\n  function getKeysPressed() {\n    return keysDown.concat(\n      keysPressed.filter(key => {\n        return keysDown.indexOf(key) < 0;\n      })\n    );\n  }\n\n  function mouseUp(event) {\n    mouseEvent = event;\n  }\n\n  function getMouseEvent() {\n    return mouseEvent;\n  }\n\n  function resetInputs() {\n    keysPressed = [];\n    mouseEvent = undefined;\n  }\n\n  return {\n    keyDown: keyDown,\n    keyUp: keyUp,\n    getKeysPressed: getKeysPressed,\n    mouseUp: mouseUp,\n    getMouseEvent: getMouseEvent,\n    resetInputs: resetInputs\n  };\n})();\n\n// CONCATENATED MODULE: ./src/asset_manager.js\n\n\nconst Assets = (function() {\n  let assets = {};\n\n  function loadAssets(assetOwners, callback) {\n    let tempAssetPaths = [];\n    for (let assetOwner of assetOwners) {\n      tempAssetPaths = tempAssetPaths.concat(assetOwner.assetPaths);\n    }\n    let assetPaths = [...new Set(tempAssetPaths)];\n\n    let assetsRemaining = assetPaths.length;\n    for (let assetPath of assetPaths) {\n      let asset = new Image();\n      asset.onload = function() {\n        assets[assetPath] = asset;\n        assetsRemaining--;\n        if (assetsRemaining <= 0) {\n          callback();\n        }\n      };\n      asset.src = assetPath;\n    }\n  }\n\n  function get(assetPath) {\n    return assets[assetPath];\n  }\n\n  return {\n    loadAssets: loadAssets,\n    get: get\n  };\n})();\n\n// CONCATENATED MODULE: ./src/asset_owner.js\n\n\n\nclass AssetOwner {\n\n  constructor(assetPaths) {\n    this.assetPaths = assetPaths;\n  }\n\n}\n\n// CONCATENATED MODULE: ./src/tile.js\n\n\n\n\n\n\nclass tile_Tile extends AssetOwner {\n\n  constructor(assetPaths) {\n    super(assetPaths);\n    this.tileWidth = 128;\n    this.tileHeight = 64;\n    this.imageFrameIndex = 0;\n  }\n\n  get img() {\n    return Assets.get(this.assetPaths[this.imageFrameIndex]);\n  }\n\n}\n\n// CONCATENATED MODULE: ./src/util.js\n\n\nconst rand = max => {\n  return Math.floor(Math.random() * Math.floor(max));\n};\n\nconst coordsEqual = (a, b) => {\n  return a.x == b.x && a.y == b.y;\n};\n\nconst entityMapLocationFromTile = (\n  tile,\n  map,\n  frameWidth,\n  frameHeight\n) => {\n  let mapDestination = map.mapCoordsForTile({ x: tile.x, y: tile.y });\n  let tileOffset = map.tileOffsets;\n  let frameOffset = { x: frameWidth / 2, y: frameHeight };\n  return {\n    x: mapDestination.x + tileOffset.x - frameOffset.x,\n    y: mapDestination.y + tileOffset.y - frameOffset.y\n  };\n};\n\nconst Facing = {\n  SOUTHEAST: 7,\n  SOUTHWEST: 1,\n  NORTHWEST: 3,\n  NORTHEAST: 5\n};\n\n// CONCATENATED MODULE: ./src/map.js\n\n\n\n\nclass Map {\n  constructor(tiles, mapSize) {\n    this.tiles = tiles;\n    this.mapSize = mapSize;\n    this.tileWidth = tiles[0].tileWidth;\n    this.tileHeight = tiles[0].tileHeight;\n    this.mapDef = buildMapDef(this);\n  }\n\n  get mapCanvas() {\n    if (this.myMapCanvas == undefined) {\n      this.myMapCanvas = drawMapCanvas(this);\n    }\n    return this.myMapCanvas;\n  }\n\n  mapCoordsForTile(tileCoords) {\n    let xOffset = (this.mapSize * this.tileWidth) / 2 - this.tileWidth / 2;\n    let mapX = (tileCoords.x - tileCoords.y) * (this.tileWidth / 2) + xOffset;\n    let mapY = (tileCoords.x + tileCoords.y) * (this.tileHeight / 2);\n    return { x: mapX, y: mapY };\n  }\n\n  get tileOffsets() {\n    return { x: this.tileWidth / 2, y: this.tileHeight / 2 };\n  }\n}\n\nfunction buildMapDef(map) {\n  let mapDef = [];\n  for (let i = 0; i < map.mapSize; i++) {\n    mapDef[i] = [];\n    for (let j = 0; j < map.mapSize; j++) {\n      mapDef[i][j] = map.tiles[rand(map.tiles.length)];\n    }\n  }\n  return mapDef;\n}\n\nfunction drawMapCanvas(map) {\n  let mapCanvas = document.createElement('canvas');\n  mapCanvas.width = map.mapSize * map.tileWidth - map.mapSize;\n  mapCanvas.height = map.mapSize * map.tileHeight - map.mapSize;\n\n  for (let [x, row] of map.mapDef.entries()) {\n    for (let [y, tile] of row.entries()) {\n      drawTile(map, mapCanvas.getContext('2d'), tile, x, y);\n    }\n  }\n  return mapCanvas;\n}\n\nfunction drawTile(map, context, tile, mapX, mapY) {\n  let contextCoords = map.mapCoordsForTile({ x: mapX, y: mapY });\n  context.drawImage(\n    tile.img,\n    contextCoords.x,\n    contextCoords.y,\n    map.tileWidth,\n    map.tileHeight\n  );\n}\n\n// CONCATENATED MODULE: ./src/entity.js\n\n\n\n\n\n\nclass entity_Entity extends AssetOwner {\n  constructor(entityDef, map, brain, facing) {\n    super(entityDef.imagePaths);\n    this.frameWidth = 60;\n    this.frameHeight = 110;\n    this.map = map;\n    this.currentTile = entityDef.startTile || { x: 0, y: 0 };\n    this.myLocation = entityMapLocationFromTile(\n      this.currentTile,\n      this.map,\n      this.frameWidth,\n      this.frameHeight\n    );\n    this.tilePath = [];\n    this.brain = brain;\n    this.destination = undefined;\n    this.facing = facing || Facing.SOUTHEAST;\n  }\n\n  get image() {\n    return Assets.get(this.assetPaths[0]);\n  }\n\n  get frameXOrigin() {\n    return 0;\n  }\n\n  get frameYOrigin() {\n    return 0;\n  }\n\n  get location() {\n    return this.myLocation;\n  }\n\n  set location(newLocation) {\n    let newFacing = undefined;\n    if (newLocation != undefined && this.myLocation != undefined) {\n      if (\n        newLocation.x >= this.myLocation.x &&\n        newLocation.y >= this.myLocation.y\n      ) {\n        newFacing = Facing.SOUTHEAST;\n      } else if (\n        newLocation.x >= this.myLocation.x &&\n        newLocation.y <= this.myLocation.y\n      ) {\n        newFacing = Facing.NORTHEAST;\n      } else if (\n        newLocation.x <= this.myLocation.x &&\n        newLocation.y <= this.myLocation.y\n      ) {\n        newFacing = Facing.NORTHWEST;\n      } else if (\n        newLocation.x <= this.myLocation.x &&\n        newLocation.y >= this.myLocation.y\n      ) {\n        newFacing = Facing.SOUTHWEST;\n      } else {\n        console.log('Error in facing alg in Entity; this should never happen');\n        newFacing = Facing.NORTHEAST;\n      }\n    }\n    this.facing = newFacing;\n    this.myLocation = newLocation;\n  }\n\n  get frameXOrigin() {\n    return this.frameWidth * this.facing;\n  }\n\n  get frameYOrigin() {\n    return 0;\n  }\n\n  respondToMouse(eventTile, blockingAnimationCallback) {\n    if (this.activity == undefined) {\n      this.activity = this.brain.getActivity(\n        this,\n        eventTile,\n        blockingAnimationCallback\n      );\n    }\n  }\n\n  activityDone() {\n    this.activity = undefined;\n  }\n\n  tick() {\n    if (this.activity != undefined) {\n      this.activity();\n    }\n  }\n}\n\n// CONCATENATED MODULE: ./src/brain.js\n\n\n\n\nclass brain_MobileBrain {\n  getActivity(entity, eventTile, blockingAnimationCallback) {\n    let startTile = entity.currentTile;\n    let endTile = eventTile;\n    let tilePath = buildTilePath(startTile, endTile);\n    let destination = undefined;\n    blockingAnimationCallback(true);\n    return () => {\n      if (destination != undefined) {\n        let nextPosition = getNextMapPosition(entity, destination);\n        entity.location = nextPosition;\n        if (coordsEqual(entity.location, destination)) {\n          destination = undefined;\n        }\n      } else if (tilePath.length > 0) {\n        entity.currentTile = tilePath[0];\n        destination = getDestination(entity, tilePath);\n      } else {\n        entity.activityDone();\n        blockingAnimationCallback(false);\n      }\n    };\n  }\n}\n\nfunction getNextMapPosition(entity, destination) {\n  let currentLoc = { x: entity.location.x, y: entity.location.y };\n  let dx = currentLoc.x - destination.x,\n    dy = currentLoc.y - destination.y;\n  let dist = Math.sqrt(dx * dx + dy * dy);\n  let velX = (dx / dist) * 5;\n  let velY = (dy / dist) * 5;\n  if (Math.abs(dx) < Math.abs(velX)) {\n    velX = dx;\n  }\n  if (Math.abs(dy) < Math.abs(velY)) {\n    velY = dy;\n  }\n  return {\n    x: (currentLoc.x -= velX),\n    y: (currentLoc.y -= velY)\n  };\n}\n\nfunction getDestination(entity, tilePath) {\n  let nextTileDestination = tilePath.shift();\n  let nextDestination = undefined;\n  if (nextTileDestination != undefined) {\n    nextDestination = entityMapLocationFromTile(\n      nextTileDestination,\n      entity.map,\n      entity.frameWidth,\n      entity.frameHeight\n    );\n  }\n  return nextDestination;\n}\n\n// Uses Brensenham's line algorithm\nfunction buildTilePath(start, end) {\n  let path = [];\n\n  let currentX = start.x,\n    currentY = start.y;\n  let deltaX = Math.abs(end.x - start.x),\n    deltaY = Math.abs(end.y - start.y);\n  let slopeX = start.x < end.x ? 1 : -1,\n    slopeY = start.y < end.y ? 1 : -1;\n  let err = deltaX - deltaY;\n\n  while (currentX != end.x || currentY != end.y) {\n    let err2 = 2 * err;\n    if (err2 > deltaY * -1) {\n      err -= deltaY;\n      currentX += slopeX;\n    } else if (err2 < deltaX) {\n      err += deltaX;\n      currentY += slopeY;\n    }\n    path.push({ x: currentX, y: currentY });\n  }\n  return path;\n}\n\n// CONCATENATED MODULE: ./src/scene.js\n\n\n\n\n\n\n\n\n\nclass scene_Scene {\n  constructor(sceneDef, viewport, viewportDimensions, loadCompleteCallback) {\n    let tiles = sceneDef.mapDef.tileImagePaths.map(tileImagePath => {\n      return new tile_Tile([tileImagePath]);\n    });\n\n    this.map = new Map(tiles, sceneDef.mapDef.mapSize);\n\n    this.entities = sceneDef.entityDefs.map(entityDef => {\n      return new entity_Entity(entityDef, this.map, new brain_MobileBrain());\n    });\n    this.activeEntity = this.entities[0];\n\n    this.viewport = viewport;\n    this.viewportDimensions = viewportDimensions;\n\n    Assets.loadAssets([...tiles, ...this.entities], () => {\n      this.viewportOffsetDimensions = {\n        x: this.map.mapCanvas.width / 2 - viewportDimensions.x / 2,\n        y: this.map.mapCanvas.height / 2 - viewportDimensions.y / 2\n      };\n      loadCompleteCallback();\n    });\n\n    this.waitingOnAnimation = false;\n  }\n\n  tick() {\n    let mouseEvent = Input.getMouseEvent();\n    if (mouseEvent != undefined) {\n      let eventViewportPosition = getEventViewportPosition(\n        this.viewport,\n        mouseEvent\n      );\n      let eventMapPosition = getCursorMapPosition(\n        this.viewportOffsetDimensions,\n        eventViewportPosition\n      );\n      let tilePosition = getCursorTilePosition(this.map, eventMapPosition);\n\n      if (!this.waitingOnAnimation) {\n        this.activeEntity.respondToMouse(tilePosition, shouldWait => {\n          this.waitingOnAnimation = shouldWait;\n        });\n\n        if (this.entities.slice(-1)[0] == this.activeEntity) {\n          this.activeEntity = this.entities[0];\n        } else {\n          this.activeEntity = this.entities[\n            this.entities.indexOf(this.activeEntity) + 1\n          ];\n        }\n      }\n    }\n\n    this.entities.forEach(entity => {\n      entity.tick();\n    });\n\n    let context = this.viewport.getContext('2d');\n    context.clearRect(\n      0,\n      0,\n      this.viewportDimensions.x,\n      this.viewportDimensions.y\n    );\n    context.drawImage(\n      this.map.mapCanvas,\n      this.viewportOffsetDimensions.x,\n      this.viewportOffsetDimensions.y,\n      this.viewportDimensions.x,\n      this.viewportDimensions.y,\n      0,\n      0,\n      this.viewportDimensions.x,\n      this.viewportDimensions.y\n    );\n\n    this.entities.forEach(entity => {\n      context.drawImage(\n        entity.image,\n        entity.frameXOrigin,\n        entity.frameYOrigin,\n        entity.frameWidth,\n        entity.frameHeight,\n        entity.location.x - this.viewportOffsetDimensions.x,\n        entity.location.y - this.viewportOffsetDimensions.y,\n        entity.frameWidth,\n        entity.frameHeight\n      );\n    });\n\n    Input.resetInputs();\n  }\n}\n\nfunction getCursorMapPosition(viewOffsets, position) {\n  return { x: viewOffsets.x + position.x, y: viewOffsets.y + position.y };\n}\n\nfunction getCursorTilePosition(map, position) {\n  let halfTileWidth = map.tileWidth / 2;\n  let halfTileHeight = map.tileHeight / 2;\n  let halfMapSize = map.mapSize / 2;\n  let tileX =\n    (position.x / halfTileWidth + position.y / halfTileHeight) / 2 -\n    halfMapSize;\n  let tileY =\n    (position.y / halfTileHeight - position.x / halfTileWidth) / 2 +\n    halfMapSize;\n  return { x: Math.floor(tileX), y: Math.floor(tileY) };\n}\n\nfunction getEventViewportPosition(viewport, event) {\n  let rect = viewport.getBoundingClientRect();\n  let x = event.clientX - rect.left;\n  let y = event.clientY - rect.top;\n  return { x: x, y: y };\n}\n\n// CONCATENATED MODULE: ./src/scene_definition.js\n\n\nconst scene_definition_sceneDef = {\n  mapDef: {\n    mapSize: 10,\n    tileImagePaths: [\n      './src/img/ground_tiles/brickpavers2.png',\n      './src/img/ground_tiles/concrete368a.png',\n      './src/img/ground_tiles/cretebrick970.png',\n      './src/img/ground_tiles/dirt.png',\n      './src/img/ground_tiles/dirtsand2.png',\n      './src/img/ground_tiles/rock.png',\n      './src/img/ground_tiles/snow.png',\n      './src/img/ground_tiles/stone.png'\n    ]\n  },\n  entityDefs: [\n    {\n      imagePaths: ['./src/img/mobiles/8way_mobile.png'],\n      startTile: { x: 3, y: 3 }\n    },\n    {\n      imagePaths: ['./src/img/mobiles/8way_mobile.png'],\n      startTile: { x: 5, y: 4 }\n    },\n    {\n      imagePaths: ['./src/img/mobiles/8way_mobile.png'],\n      startTile: { x: 3, y: 6 }\n    }\n  ]\n};\n\n// CONCATENATED MODULE: ./src/index.js\n\n\n\n\n\n\n\n\ndocument.addEventListener('DOMContentLoaded', function() {\n  console.log('Proxma Reverie approaches!');\n\n  let tickLength = 50;\n\n  var viewport = document.getElementById('viewport-canvas');\n  let viewportDimensions = { x: 600, y: 400 };\n  viewport.width = viewportDimensions.x;\n  viewport.height = viewportDimensions.y;\n\n  let scene = new scene_Scene(scene_definition_sceneDef, viewport, viewportDimensions, () => {\n    setTimeout(() => {\n      tick();\n    }, 0);\n  });\n\n  function tick() {\n    scene.tick();\n    setTimeout(() => {\n      tick();\n    }, tickLength);\n  }\n\n  document.addEventListener('keydown', event => {\n    Input.keyDown(event.key);\n  });\n\n  document.addEventListener('keyup', event => {\n    Input.keyUp(event.key);\n  });\n\n  viewport.addEventListener('mouseup', event => {\n    Input.mouseUp(event);\n  });\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9pbnB1dC5qcz85ZWY4Iiwid2VicGFjazovLy8uL3NyYy9hc3NldF9tYW5hZ2VyLmpzP2FlMGMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0X293bmVyLmpzPzc0YTIiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RpbGUuanM/MGM4MCIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbC5qcz9lMGViIiwid2VicGFjazovLy8uL3NyYy9tYXAuanM/MThiYSIsIndlYnBhY2s6Ly8vLi9zcmMvZW50aXR5LmpzPzYyN2EiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JyYWluLmpzPzNiYzMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjZW5lLmpzPzI2NGMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjZW5lX2RlZmluaXRpb24uanM/NGI4ZiIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanM/YjYzNSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBjb25zdCBJbnB1dCA9IChmdW5jdGlvbigpIHtcbiAgbGV0IGtleXNEb3duID0gW107XG4gIGxldCBrZXlzUHJlc3NlZCA9IFtdO1xuICBsZXQgbW91c2VFdmVudCA9IHVuZGVmaW5lZDtcblxuICBmdW5jdGlvbiBrZXlEb3duKGtleUNvZGUpIHtcbiAgICBpZiAoa2V5c1ByZXNzZWQuaW5kZXhPZihrZXlDb2RlKSA8IDApIHtcbiAgICAgIGtleXNQcmVzc2VkLnB1c2goa2V5Q29kZSk7XG4gICAgfVxuICAgIGlmIChrZXlzRG93bi5pbmRleE9mKGtleUNvZGUpIDwgMCkge1xuICAgICAga2V5c0Rvd24ucHVzaChrZXlDb2RlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBrZXlVcChrZXlDb2RlKSB7XG4gICAga2V5c0Rvd24gPSBrZXlzRG93bi5maWx0ZXIoZWxlbWVudCA9PiB7XG4gICAgICByZXR1cm4gZWxlbWVudCAhPSBrZXlDb2RlO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0S2V5c1ByZXNzZWQoKSB7XG4gICAgcmV0dXJuIGtleXNEb3duLmNvbmNhdChcbiAgICAgIGtleXNQcmVzc2VkLmZpbHRlcihrZXkgPT4ge1xuICAgICAgICByZXR1cm4ga2V5c0Rvd24uaW5kZXhPZihrZXkpIDwgMDtcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1vdXNlVXAoZXZlbnQpIHtcbiAgICBtb3VzZUV2ZW50ID0gZXZlbnQ7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRNb3VzZUV2ZW50KCkge1xuICAgIHJldHVybiBtb3VzZUV2ZW50O1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRJbnB1dHMoKSB7XG4gICAga2V5c1ByZXNzZWQgPSBbXTtcbiAgICBtb3VzZUV2ZW50ID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBrZXlEb3duOiBrZXlEb3duLFxuICAgIGtleVVwOiBrZXlVcCxcbiAgICBnZXRLZXlzUHJlc3NlZDogZ2V0S2V5c1ByZXNzZWQsXG4gICAgbW91c2VVcDogbW91c2VVcCxcbiAgICBnZXRNb3VzZUV2ZW50OiBnZXRNb3VzZUV2ZW50LFxuICAgIHJlc2V0SW5wdXRzOiByZXNldElucHV0c1xuICB9O1xufSkoKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGNvbnN0IEFzc2V0cyA9IChmdW5jdGlvbigpIHtcbiAgbGV0IGFzc2V0cyA9IHt9O1xuXG4gIGZ1bmN0aW9uIGxvYWRBc3NldHMoYXNzZXRPd25lcnMsIGNhbGxiYWNrKSB7XG4gICAgbGV0IHRlbXBBc3NldFBhdGhzID0gW107XG4gICAgZm9yIChsZXQgYXNzZXRPd25lciBvZiBhc3NldE93bmVycykge1xuICAgICAgdGVtcEFzc2V0UGF0aHMgPSB0ZW1wQXNzZXRQYXRocy5jb25jYXQoYXNzZXRPd25lci5hc3NldFBhdGhzKTtcbiAgICB9XG4gICAgbGV0IGFzc2V0UGF0aHMgPSBbLi4ubmV3IFNldCh0ZW1wQXNzZXRQYXRocyldO1xuXG4gICAgbGV0IGFzc2V0c1JlbWFpbmluZyA9IGFzc2V0UGF0aHMubGVuZ3RoO1xuICAgIGZvciAobGV0IGFzc2V0UGF0aCBvZiBhc3NldFBhdGhzKSB7XG4gICAgICBsZXQgYXNzZXQgPSBuZXcgSW1hZ2UoKTtcbiAgICAgIGFzc2V0Lm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBhc3NldHNbYXNzZXRQYXRoXSA9IGFzc2V0O1xuICAgICAgICBhc3NldHNSZW1haW5pbmctLTtcbiAgICAgICAgaWYgKGFzc2V0c1JlbWFpbmluZyA8PSAwKSB7XG4gICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGFzc2V0LnNyYyA9IGFzc2V0UGF0aDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXQoYXNzZXRQYXRoKSB7XG4gICAgcmV0dXJuIGFzc2V0c1thc3NldFBhdGhdO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBsb2FkQXNzZXRzOiBsb2FkQXNzZXRzLFxuICAgIGdldDogZ2V0XG4gIH07XG59KSgpO1xuIiwiXG5cInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXNzZXRPd25lciB7XG5cbiAgY29uc3RydWN0b3IoYXNzZXRQYXRocykge1xuICAgIHRoaXMuYXNzZXRQYXRocyA9IGFzc2V0UGF0aHM7XG4gIH1cblxufVxuIiwiXG5cInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IHsgQXNzZXRzIH0gZnJvbSBcIi4vYXNzZXRfbWFuYWdlclwiO1xuaW1wb3J0IEFzc2V0T3duZXIgZnJvbSBcIi4vYXNzZXRfb3duZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGlsZSBleHRlbmRzIEFzc2V0T3duZXIge1xuXG4gIGNvbnN0cnVjdG9yKGFzc2V0UGF0aHMpIHtcbiAgICBzdXBlcihhc3NldFBhdGhzKTtcbiAgICB0aGlzLnRpbGVXaWR0aCA9IDEyODtcbiAgICB0aGlzLnRpbGVIZWlnaHQgPSA2NDtcbiAgICB0aGlzLmltYWdlRnJhbWVJbmRleCA9IDA7XG4gIH1cblxuICBnZXQgaW1nKCkge1xuICAgIHJldHVybiBBc3NldHMuZ2V0KHRoaXMuYXNzZXRQYXRoc1t0aGlzLmltYWdlRnJhbWVJbmRleF0pO1xuICB9XG5cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGNvbnN0IHJhbmQgPSBtYXggPT4ge1xuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTWF0aC5mbG9vcihtYXgpKTtcbn07XG5cbmV4cG9ydCBjb25zdCBjb29yZHNFcXVhbCA9IChhLCBiKSA9PiB7XG4gIHJldHVybiBhLnggPT0gYi54ICYmIGEueSA9PSBiLnk7XG59O1xuXG5leHBvcnQgY29uc3QgZW50aXR5TWFwTG9jYXRpb25Gcm9tVGlsZSA9IChcbiAgdGlsZSxcbiAgbWFwLFxuICBmcmFtZVdpZHRoLFxuICBmcmFtZUhlaWdodFxuKSA9PiB7XG4gIGxldCBtYXBEZXN0aW5hdGlvbiA9IG1hcC5tYXBDb29yZHNGb3JUaWxlKHsgeDogdGlsZS54LCB5OiB0aWxlLnkgfSk7XG4gIGxldCB0aWxlT2Zmc2V0ID0gbWFwLnRpbGVPZmZzZXRzO1xuICBsZXQgZnJhbWVPZmZzZXQgPSB7IHg6IGZyYW1lV2lkdGggLyAyLCB5OiBmcmFtZUhlaWdodCB9O1xuICByZXR1cm4ge1xuICAgIHg6IG1hcERlc3RpbmF0aW9uLnggKyB0aWxlT2Zmc2V0LnggLSBmcmFtZU9mZnNldC54LFxuICAgIHk6IG1hcERlc3RpbmF0aW9uLnkgKyB0aWxlT2Zmc2V0LnkgLSBmcmFtZU9mZnNldC55XG4gIH07XG59O1xuXG5leHBvcnQgY29uc3QgRmFjaW5nID0ge1xuICBTT1VUSEVBU1Q6IDcsXG4gIFNPVVRIV0VTVDogMSxcbiAgTk9SVEhXRVNUOiAzLFxuICBOT1JUSEVBU1Q6IDVcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IHJhbmQgfSBmcm9tICcuL3V0aWwnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXAge1xuICBjb25zdHJ1Y3Rvcih0aWxlcywgbWFwU2l6ZSkge1xuICAgIHRoaXMudGlsZXMgPSB0aWxlcztcbiAgICB0aGlzLm1hcFNpemUgPSBtYXBTaXplO1xuICAgIHRoaXMudGlsZVdpZHRoID0gdGlsZXNbMF0udGlsZVdpZHRoO1xuICAgIHRoaXMudGlsZUhlaWdodCA9IHRpbGVzWzBdLnRpbGVIZWlnaHQ7XG4gICAgdGhpcy5tYXBEZWYgPSBidWlsZE1hcERlZih0aGlzKTtcbiAgfVxuXG4gIGdldCBtYXBDYW52YXMoKSB7XG4gICAgaWYgKHRoaXMubXlNYXBDYW52YXMgPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLm15TWFwQ2FudmFzID0gZHJhd01hcENhbnZhcyh0aGlzKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMubXlNYXBDYW52YXM7XG4gIH1cblxuICBtYXBDb29yZHNGb3JUaWxlKHRpbGVDb29yZHMpIHtcbiAgICBsZXQgeE9mZnNldCA9ICh0aGlzLm1hcFNpemUgKiB0aGlzLnRpbGVXaWR0aCkgLyAyIC0gdGhpcy50aWxlV2lkdGggLyAyO1xuICAgIGxldCBtYXBYID0gKHRpbGVDb29yZHMueCAtIHRpbGVDb29yZHMueSkgKiAodGhpcy50aWxlV2lkdGggLyAyKSArIHhPZmZzZXQ7XG4gICAgbGV0IG1hcFkgPSAodGlsZUNvb3Jkcy54ICsgdGlsZUNvb3Jkcy55KSAqICh0aGlzLnRpbGVIZWlnaHQgLyAyKTtcbiAgICByZXR1cm4geyB4OiBtYXBYLCB5OiBtYXBZIH07XG4gIH1cblxuICBnZXQgdGlsZU9mZnNldHMoKSB7XG4gICAgcmV0dXJuIHsgeDogdGhpcy50aWxlV2lkdGggLyAyLCB5OiB0aGlzLnRpbGVIZWlnaHQgLyAyIH07XG4gIH1cbn1cblxuZnVuY3Rpb24gYnVpbGRNYXBEZWYobWFwKSB7XG4gIGxldCBtYXBEZWYgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXAubWFwU2l6ZTsgaSsrKSB7XG4gICAgbWFwRGVmW2ldID0gW107XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBtYXAubWFwU2l6ZTsgaisrKSB7XG4gICAgICBtYXBEZWZbaV1bal0gPSBtYXAudGlsZXNbcmFuZChtYXAudGlsZXMubGVuZ3RoKV07XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXBEZWY7XG59XG5cbmZ1bmN0aW9uIGRyYXdNYXBDYW52YXMobWFwKSB7XG4gIGxldCBtYXBDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgbWFwQ2FudmFzLndpZHRoID0gbWFwLm1hcFNpemUgKiBtYXAudGlsZVdpZHRoIC0gbWFwLm1hcFNpemU7XG4gIG1hcENhbnZhcy5oZWlnaHQgPSBtYXAubWFwU2l6ZSAqIG1hcC50aWxlSGVpZ2h0IC0gbWFwLm1hcFNpemU7XG5cbiAgZm9yIChsZXQgW3gsIHJvd10gb2YgbWFwLm1hcERlZi5lbnRyaWVzKCkpIHtcbiAgICBmb3IgKGxldCBbeSwgdGlsZV0gb2Ygcm93LmVudHJpZXMoKSkge1xuICAgICAgZHJhd1RpbGUobWFwLCBtYXBDYW52YXMuZ2V0Q29udGV4dCgnMmQnKSwgdGlsZSwgeCwgeSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXBDYW52YXM7XG59XG5cbmZ1bmN0aW9uIGRyYXdUaWxlKG1hcCwgY29udGV4dCwgdGlsZSwgbWFwWCwgbWFwWSkge1xuICBsZXQgY29udGV4dENvb3JkcyA9IG1hcC5tYXBDb29yZHNGb3JUaWxlKHsgeDogbWFwWCwgeTogbWFwWSB9KTtcbiAgY29udGV4dC5kcmF3SW1hZ2UoXG4gICAgdGlsZS5pbWcsXG4gICAgY29udGV4dENvb3Jkcy54LFxuICAgIGNvbnRleHRDb29yZHMueSxcbiAgICBtYXAudGlsZVdpZHRoLFxuICAgIG1hcC50aWxlSGVpZ2h0XG4gICk7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IEFzc2V0cyB9IGZyb20gJy4vYXNzZXRfbWFuYWdlcic7XG5pbXBvcnQgQXNzZXRPd25lciBmcm9tICcuL2Fzc2V0X293bmVyJztcbmltcG9ydCB7IGVudGl0eU1hcExvY2F0aW9uRnJvbVRpbGUsIEZhY2luZyB9IGZyb20gJy4vdXRpbCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVudGl0eSBleHRlbmRzIEFzc2V0T3duZXIge1xuICBjb25zdHJ1Y3RvcihlbnRpdHlEZWYsIG1hcCwgYnJhaW4sIGZhY2luZykge1xuICAgIHN1cGVyKGVudGl0eURlZi5pbWFnZVBhdGhzKTtcbiAgICB0aGlzLmZyYW1lV2lkdGggPSA2MDtcbiAgICB0aGlzLmZyYW1lSGVpZ2h0ID0gMTEwO1xuICAgIHRoaXMubWFwID0gbWFwO1xuICAgIHRoaXMuY3VycmVudFRpbGUgPSBlbnRpdHlEZWYuc3RhcnRUaWxlIHx8IHsgeDogMCwgeTogMCB9O1xuICAgIHRoaXMubXlMb2NhdGlvbiA9IGVudGl0eU1hcExvY2F0aW9uRnJvbVRpbGUoXG4gICAgICB0aGlzLmN1cnJlbnRUaWxlLFxuICAgICAgdGhpcy5tYXAsXG4gICAgICB0aGlzLmZyYW1lV2lkdGgsXG4gICAgICB0aGlzLmZyYW1lSGVpZ2h0XG4gICAgKTtcbiAgICB0aGlzLnRpbGVQYXRoID0gW107XG4gICAgdGhpcy5icmFpbiA9IGJyYWluO1xuICAgIHRoaXMuZGVzdGluYXRpb24gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5mYWNpbmcgPSBmYWNpbmcgfHwgRmFjaW5nLlNPVVRIRUFTVDtcbiAgfVxuXG4gIGdldCBpbWFnZSgpIHtcbiAgICByZXR1cm4gQXNzZXRzLmdldCh0aGlzLmFzc2V0UGF0aHNbMF0pO1xuICB9XG5cbiAgZ2V0IGZyYW1lWE9yaWdpbigpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGdldCBmcmFtZVlPcmlnaW4oKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBnZXQgbG9jYXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMubXlMb2NhdGlvbjtcbiAgfVxuXG4gIHNldCBsb2NhdGlvbihuZXdMb2NhdGlvbikge1xuICAgIGxldCBuZXdGYWNpbmcgPSB1bmRlZmluZWQ7XG4gICAgaWYgKG5ld0xvY2F0aW9uICE9IHVuZGVmaW5lZCAmJiB0aGlzLm15TG9jYXRpb24gIT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoXG4gICAgICAgIG5ld0xvY2F0aW9uLnggPj0gdGhpcy5teUxvY2F0aW9uLnggJiZcbiAgICAgICAgbmV3TG9jYXRpb24ueSA+PSB0aGlzLm15TG9jYXRpb24ueVxuICAgICAgKSB7XG4gICAgICAgIG5ld0ZhY2luZyA9IEZhY2luZy5TT1VUSEVBU1Q7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICBuZXdMb2NhdGlvbi54ID49IHRoaXMubXlMb2NhdGlvbi54ICYmXG4gICAgICAgIG5ld0xvY2F0aW9uLnkgPD0gdGhpcy5teUxvY2F0aW9uLnlcbiAgICAgICkge1xuICAgICAgICBuZXdGYWNpbmcgPSBGYWNpbmcuTk9SVEhFQVNUO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgbmV3TG9jYXRpb24ueCA8PSB0aGlzLm15TG9jYXRpb24ueCAmJlxuICAgICAgICBuZXdMb2NhdGlvbi55IDw9IHRoaXMubXlMb2NhdGlvbi55XG4gICAgICApIHtcbiAgICAgICAgbmV3RmFjaW5nID0gRmFjaW5nLk5PUlRIV0VTVDtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIG5ld0xvY2F0aW9uLnggPD0gdGhpcy5teUxvY2F0aW9uLnggJiZcbiAgICAgICAgbmV3TG9jYXRpb24ueSA+PSB0aGlzLm15TG9jYXRpb24ueVxuICAgICAgKSB7XG4gICAgICAgIG5ld0ZhY2luZyA9IEZhY2luZy5TT1VUSFdFU1Q7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygnRXJyb3IgaW4gZmFjaW5nIGFsZyBpbiBFbnRpdHk7IHRoaXMgc2hvdWxkIG5ldmVyIGhhcHBlbicpO1xuICAgICAgICBuZXdGYWNpbmcgPSBGYWNpbmcuTk9SVEhFQVNUO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmZhY2luZyA9IG5ld0ZhY2luZztcbiAgICB0aGlzLm15TG9jYXRpb24gPSBuZXdMb2NhdGlvbjtcbiAgfVxuXG4gIGdldCBmcmFtZVhPcmlnaW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuZnJhbWVXaWR0aCAqIHRoaXMuZmFjaW5nO1xuICB9XG5cbiAgZ2V0IGZyYW1lWU9yaWdpbigpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIHJlc3BvbmRUb01vdXNlKGV2ZW50VGlsZSwgYmxvY2tpbmdBbmltYXRpb25DYWxsYmFjaykge1xuICAgIGlmICh0aGlzLmFjdGl2aXR5ID09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5hY3Rpdml0eSA9IHRoaXMuYnJhaW4uZ2V0QWN0aXZpdHkoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIGV2ZW50VGlsZSxcbiAgICAgICAgYmxvY2tpbmdBbmltYXRpb25DYWxsYmFja1xuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBhY3Rpdml0eURvbmUoKSB7XG4gICAgdGhpcy5hY3Rpdml0eSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIHRpY2soKSB7XG4gICAgaWYgKHRoaXMuYWN0aXZpdHkgIT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmFjdGl2aXR5KCk7XG4gICAgfVxuICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IGVudGl0eU1hcExvY2F0aW9uRnJvbVRpbGUsIGNvb3Jkc0VxdWFsIH0gZnJvbSAnLi91dGlsJztcblxuZXhwb3J0IGNsYXNzIE1vYmlsZUJyYWluIHtcbiAgZ2V0QWN0aXZpdHkoZW50aXR5LCBldmVudFRpbGUsIGJsb2NraW5nQW5pbWF0aW9uQ2FsbGJhY2spIHtcbiAgICBsZXQgc3RhcnRUaWxlID0gZW50aXR5LmN1cnJlbnRUaWxlO1xuICAgIGxldCBlbmRUaWxlID0gZXZlbnRUaWxlO1xuICAgIGxldCB0aWxlUGF0aCA9IGJ1aWxkVGlsZVBhdGgoc3RhcnRUaWxlLCBlbmRUaWxlKTtcbiAgICBsZXQgZGVzdGluYXRpb24gPSB1bmRlZmluZWQ7XG4gICAgYmxvY2tpbmdBbmltYXRpb25DYWxsYmFjayh0cnVlKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKGRlc3RpbmF0aW9uICE9IHVuZGVmaW5lZCkge1xuICAgICAgICBsZXQgbmV4dFBvc2l0aW9uID0gZ2V0TmV4dE1hcFBvc2l0aW9uKGVudGl0eSwgZGVzdGluYXRpb24pO1xuICAgICAgICBlbnRpdHkubG9jYXRpb24gPSBuZXh0UG9zaXRpb247XG4gICAgICAgIGlmIChjb29yZHNFcXVhbChlbnRpdHkubG9jYXRpb24sIGRlc3RpbmF0aW9uKSkge1xuICAgICAgICAgIGRlc3RpbmF0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRpbGVQYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZW50aXR5LmN1cnJlbnRUaWxlID0gdGlsZVBhdGhbMF07XG4gICAgICAgIGRlc3RpbmF0aW9uID0gZ2V0RGVzdGluYXRpb24oZW50aXR5LCB0aWxlUGF0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbnRpdHkuYWN0aXZpdHlEb25lKCk7XG4gICAgICAgIGJsb2NraW5nQW5pbWF0aW9uQ2FsbGJhY2soZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0TmV4dE1hcFBvc2l0aW9uKGVudGl0eSwgZGVzdGluYXRpb24pIHtcbiAgbGV0IGN1cnJlbnRMb2MgPSB7IHg6IGVudGl0eS5sb2NhdGlvbi54LCB5OiBlbnRpdHkubG9jYXRpb24ueSB9O1xuICBsZXQgZHggPSBjdXJyZW50TG9jLnggLSBkZXN0aW5hdGlvbi54LFxuICAgIGR5ID0gY3VycmVudExvYy55IC0gZGVzdGluYXRpb24ueTtcbiAgbGV0IGRpc3QgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuICBsZXQgdmVsWCA9IChkeCAvIGRpc3QpICogNTtcbiAgbGV0IHZlbFkgPSAoZHkgLyBkaXN0KSAqIDU7XG4gIGlmIChNYXRoLmFicyhkeCkgPCBNYXRoLmFicyh2ZWxYKSkge1xuICAgIHZlbFggPSBkeDtcbiAgfVxuICBpZiAoTWF0aC5hYnMoZHkpIDwgTWF0aC5hYnModmVsWSkpIHtcbiAgICB2ZWxZID0gZHk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB4OiAoY3VycmVudExvYy54IC09IHZlbFgpLFxuICAgIHk6IChjdXJyZW50TG9jLnkgLT0gdmVsWSlcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0RGVzdGluYXRpb24oZW50aXR5LCB0aWxlUGF0aCkge1xuICBsZXQgbmV4dFRpbGVEZXN0aW5hdGlvbiA9IHRpbGVQYXRoLnNoaWZ0KCk7XG4gIGxldCBuZXh0RGVzdGluYXRpb24gPSB1bmRlZmluZWQ7XG4gIGlmIChuZXh0VGlsZURlc3RpbmF0aW9uICE9IHVuZGVmaW5lZCkge1xuICAgIG5leHREZXN0aW5hdGlvbiA9IGVudGl0eU1hcExvY2F0aW9uRnJvbVRpbGUoXG4gICAgICBuZXh0VGlsZURlc3RpbmF0aW9uLFxuICAgICAgZW50aXR5Lm1hcCxcbiAgICAgIGVudGl0eS5mcmFtZVdpZHRoLFxuICAgICAgZW50aXR5LmZyYW1lSGVpZ2h0XG4gICAgKTtcbiAgfVxuICByZXR1cm4gbmV4dERlc3RpbmF0aW9uO1xufVxuXG4vLyBVc2VzIEJyZW5zZW5oYW0ncyBsaW5lIGFsZ29yaXRobVxuZnVuY3Rpb24gYnVpbGRUaWxlUGF0aChzdGFydCwgZW5kKSB7XG4gIGxldCBwYXRoID0gW107XG5cbiAgbGV0IGN1cnJlbnRYID0gc3RhcnQueCxcbiAgICBjdXJyZW50WSA9IHN0YXJ0Lnk7XG4gIGxldCBkZWx0YVggPSBNYXRoLmFicyhlbmQueCAtIHN0YXJ0LngpLFxuICAgIGRlbHRhWSA9IE1hdGguYWJzKGVuZC55IC0gc3RhcnQueSk7XG4gIGxldCBzbG9wZVggPSBzdGFydC54IDwgZW5kLnggPyAxIDogLTEsXG4gICAgc2xvcGVZID0gc3RhcnQueSA8IGVuZC55ID8gMSA6IC0xO1xuICBsZXQgZXJyID0gZGVsdGFYIC0gZGVsdGFZO1xuXG4gIHdoaWxlIChjdXJyZW50WCAhPSBlbmQueCB8fCBjdXJyZW50WSAhPSBlbmQueSkge1xuICAgIGxldCBlcnIyID0gMiAqIGVycjtcbiAgICBpZiAoZXJyMiA+IGRlbHRhWSAqIC0xKSB7XG4gICAgICBlcnIgLT0gZGVsdGFZO1xuICAgICAgY3VycmVudFggKz0gc2xvcGVYO1xuICAgIH0gZWxzZSBpZiAoZXJyMiA8IGRlbHRhWCkge1xuICAgICAgZXJyICs9IGRlbHRhWDtcbiAgICAgIGN1cnJlbnRZICs9IHNsb3BlWTtcbiAgICB9XG4gICAgcGF0aC5wdXNoKHsgeDogY3VycmVudFgsIHk6IGN1cnJlbnRZIH0pO1xuICB9XG4gIHJldHVybiBwYXRoO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgVGlsZSBmcm9tICcuL3RpbGUnO1xuaW1wb3J0IE1hcCBmcm9tICcuL21hcCc7XG5pbXBvcnQgRW50aXR5IGZyb20gJy4vZW50aXR5JztcbmltcG9ydCB7IEFzc2V0cyB9IGZyb20gJy4vYXNzZXRfbWFuYWdlcic7XG5pbXBvcnQgeyBJbnB1dCB9IGZyb20gJy4vaW5wdXQnO1xuaW1wb3J0IHsgTW9iaWxlQnJhaW4gfSBmcm9tICcuL2JyYWluJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NlbmUge1xuICBjb25zdHJ1Y3RvcihzY2VuZURlZiwgdmlld3BvcnQsIHZpZXdwb3J0RGltZW5zaW9ucywgbG9hZENvbXBsZXRlQ2FsbGJhY2spIHtcbiAgICBsZXQgdGlsZXMgPSBzY2VuZURlZi5tYXBEZWYudGlsZUltYWdlUGF0aHMubWFwKHRpbGVJbWFnZVBhdGggPT4ge1xuICAgICAgcmV0dXJuIG5ldyBUaWxlKFt0aWxlSW1hZ2VQYXRoXSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLm1hcCA9IG5ldyBNYXAodGlsZXMsIHNjZW5lRGVmLm1hcERlZi5tYXBTaXplKTtcblxuICAgIHRoaXMuZW50aXRpZXMgPSBzY2VuZURlZi5lbnRpdHlEZWZzLm1hcChlbnRpdHlEZWYgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBFbnRpdHkoZW50aXR5RGVmLCB0aGlzLm1hcCwgbmV3IE1vYmlsZUJyYWluKCkpO1xuICAgIH0pO1xuICAgIHRoaXMuYWN0aXZlRW50aXR5ID0gdGhpcy5lbnRpdGllc1swXTtcblxuICAgIHRoaXMudmlld3BvcnQgPSB2aWV3cG9ydDtcbiAgICB0aGlzLnZpZXdwb3J0RGltZW5zaW9ucyA9IHZpZXdwb3J0RGltZW5zaW9ucztcblxuICAgIEFzc2V0cy5sb2FkQXNzZXRzKFsuLi50aWxlcywgLi4udGhpcy5lbnRpdGllc10sICgpID0+IHtcbiAgICAgIHRoaXMudmlld3BvcnRPZmZzZXREaW1lbnNpb25zID0ge1xuICAgICAgICB4OiB0aGlzLm1hcC5tYXBDYW52YXMud2lkdGggLyAyIC0gdmlld3BvcnREaW1lbnNpb25zLnggLyAyLFxuICAgICAgICB5OiB0aGlzLm1hcC5tYXBDYW52YXMuaGVpZ2h0IC8gMiAtIHZpZXdwb3J0RGltZW5zaW9ucy55IC8gMlxuICAgICAgfTtcbiAgICAgIGxvYWRDb21wbGV0ZUNhbGxiYWNrKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLndhaXRpbmdPbkFuaW1hdGlvbiA9IGZhbHNlO1xuICB9XG5cbiAgdGljaygpIHtcbiAgICBsZXQgbW91c2VFdmVudCA9IElucHV0LmdldE1vdXNlRXZlbnQoKTtcbiAgICBpZiAobW91c2VFdmVudCAhPSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCBldmVudFZpZXdwb3J0UG9zaXRpb24gPSBnZXRFdmVudFZpZXdwb3J0UG9zaXRpb24oXG4gICAgICAgIHRoaXMudmlld3BvcnQsXG4gICAgICAgIG1vdXNlRXZlbnRcbiAgICAgICk7XG4gICAgICBsZXQgZXZlbnRNYXBQb3NpdGlvbiA9IGdldEN1cnNvck1hcFBvc2l0aW9uKFxuICAgICAgICB0aGlzLnZpZXdwb3J0T2Zmc2V0RGltZW5zaW9ucyxcbiAgICAgICAgZXZlbnRWaWV3cG9ydFBvc2l0aW9uXG4gICAgICApO1xuICAgICAgbGV0IHRpbGVQb3NpdGlvbiA9IGdldEN1cnNvclRpbGVQb3NpdGlvbih0aGlzLm1hcCwgZXZlbnRNYXBQb3NpdGlvbik7XG5cbiAgICAgIGlmICghdGhpcy53YWl0aW5nT25BbmltYXRpb24pIHtcbiAgICAgICAgdGhpcy5hY3RpdmVFbnRpdHkucmVzcG9uZFRvTW91c2UodGlsZVBvc2l0aW9uLCBzaG91bGRXYWl0ID0+IHtcbiAgICAgICAgICB0aGlzLndhaXRpbmdPbkFuaW1hdGlvbiA9IHNob3VsZFdhaXQ7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLmVudGl0aWVzLnNsaWNlKC0xKVswXSA9PSB0aGlzLmFjdGl2ZUVudGl0eSkge1xuICAgICAgICAgIHRoaXMuYWN0aXZlRW50aXR5ID0gdGhpcy5lbnRpdGllc1swXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmFjdGl2ZUVudGl0eSA9IHRoaXMuZW50aXRpZXNbXG4gICAgICAgICAgICB0aGlzLmVudGl0aWVzLmluZGV4T2YodGhpcy5hY3RpdmVFbnRpdHkpICsgMVxuICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmVudGl0aWVzLmZvckVhY2goZW50aXR5ID0+IHtcbiAgICAgIGVudGl0eS50aWNrKCk7XG4gICAgfSk7XG5cbiAgICBsZXQgY29udGV4dCA9IHRoaXMudmlld3BvcnQuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBjb250ZXh0LmNsZWFyUmVjdChcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgdGhpcy52aWV3cG9ydERpbWVuc2lvbnMueCxcbiAgICAgIHRoaXMudmlld3BvcnREaW1lbnNpb25zLnlcbiAgICApO1xuICAgIGNvbnRleHQuZHJhd0ltYWdlKFxuICAgICAgdGhpcy5tYXAubWFwQ2FudmFzLFxuICAgICAgdGhpcy52aWV3cG9ydE9mZnNldERpbWVuc2lvbnMueCxcbiAgICAgIHRoaXMudmlld3BvcnRPZmZzZXREaW1lbnNpb25zLnksXG4gICAgICB0aGlzLnZpZXdwb3J0RGltZW5zaW9ucy54LFxuICAgICAgdGhpcy52aWV3cG9ydERpbWVuc2lvbnMueSxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgdGhpcy52aWV3cG9ydERpbWVuc2lvbnMueCxcbiAgICAgIHRoaXMudmlld3BvcnREaW1lbnNpb25zLnlcbiAgICApO1xuXG4gICAgdGhpcy5lbnRpdGllcy5mb3JFYWNoKGVudGl0eSA9PiB7XG4gICAgICBjb250ZXh0LmRyYXdJbWFnZShcbiAgICAgICAgZW50aXR5LmltYWdlLFxuICAgICAgICBlbnRpdHkuZnJhbWVYT3JpZ2luLFxuICAgICAgICBlbnRpdHkuZnJhbWVZT3JpZ2luLFxuICAgICAgICBlbnRpdHkuZnJhbWVXaWR0aCxcbiAgICAgICAgZW50aXR5LmZyYW1lSGVpZ2h0LFxuICAgICAgICBlbnRpdHkubG9jYXRpb24ueCAtIHRoaXMudmlld3BvcnRPZmZzZXREaW1lbnNpb25zLngsXG4gICAgICAgIGVudGl0eS5sb2NhdGlvbi55IC0gdGhpcy52aWV3cG9ydE9mZnNldERpbWVuc2lvbnMueSxcbiAgICAgICAgZW50aXR5LmZyYW1lV2lkdGgsXG4gICAgICAgIGVudGl0eS5mcmFtZUhlaWdodFxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIElucHV0LnJlc2V0SW5wdXRzKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0Q3Vyc29yTWFwUG9zaXRpb24odmlld09mZnNldHMsIHBvc2l0aW9uKSB7XG4gIHJldHVybiB7IHg6IHZpZXdPZmZzZXRzLnggKyBwb3NpdGlvbi54LCB5OiB2aWV3T2Zmc2V0cy55ICsgcG9zaXRpb24ueSB9O1xufVxuXG5mdW5jdGlvbiBnZXRDdXJzb3JUaWxlUG9zaXRpb24obWFwLCBwb3NpdGlvbikge1xuICBsZXQgaGFsZlRpbGVXaWR0aCA9IG1hcC50aWxlV2lkdGggLyAyO1xuICBsZXQgaGFsZlRpbGVIZWlnaHQgPSBtYXAudGlsZUhlaWdodCAvIDI7XG4gIGxldCBoYWxmTWFwU2l6ZSA9IG1hcC5tYXBTaXplIC8gMjtcbiAgbGV0IHRpbGVYID1cbiAgICAocG9zaXRpb24ueCAvIGhhbGZUaWxlV2lkdGggKyBwb3NpdGlvbi55IC8gaGFsZlRpbGVIZWlnaHQpIC8gMiAtXG4gICAgaGFsZk1hcFNpemU7XG4gIGxldCB0aWxlWSA9XG4gICAgKHBvc2l0aW9uLnkgLyBoYWxmVGlsZUhlaWdodCAtIHBvc2l0aW9uLnggLyBoYWxmVGlsZVdpZHRoKSAvIDIgK1xuICAgIGhhbGZNYXBTaXplO1xuICByZXR1cm4geyB4OiBNYXRoLmZsb29yKHRpbGVYKSwgeTogTWF0aC5mbG9vcih0aWxlWSkgfTtcbn1cblxuZnVuY3Rpb24gZ2V0RXZlbnRWaWV3cG9ydFBvc2l0aW9uKHZpZXdwb3J0LCBldmVudCkge1xuICBsZXQgcmVjdCA9IHZpZXdwb3J0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBsZXQgeCA9IGV2ZW50LmNsaWVudFggLSByZWN0LmxlZnQ7XG4gIGxldCB5ID0gZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wO1xuICByZXR1cm4geyB4OiB4LCB5OiB5IH07XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBjb25zdCBzY2VuZURlZiA9IHtcbiAgbWFwRGVmOiB7XG4gICAgbWFwU2l6ZTogMTAsXG4gICAgdGlsZUltYWdlUGF0aHM6IFtcbiAgICAgICcuL3NyYy9pbWcvZ3JvdW5kX3RpbGVzL2JyaWNrcGF2ZXJzMi5wbmcnLFxuICAgICAgJy4vc3JjL2ltZy9ncm91bmRfdGlsZXMvY29uY3JldGUzNjhhLnBuZycsXG4gICAgICAnLi9zcmMvaW1nL2dyb3VuZF90aWxlcy9jcmV0ZWJyaWNrOTcwLnBuZycsXG4gICAgICAnLi9zcmMvaW1nL2dyb3VuZF90aWxlcy9kaXJ0LnBuZycsXG4gICAgICAnLi9zcmMvaW1nL2dyb3VuZF90aWxlcy9kaXJ0c2FuZDIucG5nJyxcbiAgICAgICcuL3NyYy9pbWcvZ3JvdW5kX3RpbGVzL3JvY2sucG5nJyxcbiAgICAgICcuL3NyYy9pbWcvZ3JvdW5kX3RpbGVzL3Nub3cucG5nJyxcbiAgICAgICcuL3NyYy9pbWcvZ3JvdW5kX3RpbGVzL3N0b25lLnBuZydcbiAgICBdXG4gIH0sXG4gIGVudGl0eURlZnM6IFtcbiAgICB7XG4gICAgICBpbWFnZVBhdGhzOiBbJy4vc3JjL2ltZy9tb2JpbGVzLzh3YXlfbW9iaWxlLnBuZyddLFxuICAgICAgc3RhcnRUaWxlOiB7IHg6IDMsIHk6IDMgfVxuICAgIH0sXG4gICAge1xuICAgICAgaW1hZ2VQYXRoczogWycuL3NyYy9pbWcvbW9iaWxlcy84d2F5X21vYmlsZS5wbmcnXSxcbiAgICAgIHN0YXJ0VGlsZTogeyB4OiA1LCB5OiA0IH1cbiAgICB9LFxuICAgIHtcbiAgICAgIGltYWdlUGF0aHM6IFsnLi9zcmMvaW1nL21vYmlsZXMvOHdheV9tb2JpbGUucG5nJ10sXG4gICAgICBzdGFydFRpbGU6IHsgeDogMywgeTogNiB9XG4gICAgfVxuICBdXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgJy4vc3R5bGVzL2luZGV4LmNzcyc7XG5cbmltcG9ydCB7IElucHV0IH0gZnJvbSAnLi9pbnB1dCc7XG5pbXBvcnQgU2NlbmUgZnJvbSAnLi9zY2VuZSc7XG5pbXBvcnQgeyBzY2VuZURlZiB9IGZyb20gJy4vc2NlbmVfZGVmaW5pdGlvbic7XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbigpIHtcbiAgY29uc29sZS5sb2coJ1Byb3htYSBSZXZlcmllIGFwcHJvYWNoZXMhJyk7XG5cbiAgbGV0IHRpY2tMZW5ndGggPSA1MDtcblxuICB2YXIgdmlld3BvcnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmlld3BvcnQtY2FudmFzJyk7XG4gIGxldCB2aWV3cG9ydERpbWVuc2lvbnMgPSB7IHg6IDYwMCwgeTogNDAwIH07XG4gIHZpZXdwb3J0LndpZHRoID0gdmlld3BvcnREaW1lbnNpb25zLng7XG4gIHZpZXdwb3J0LmhlaWdodCA9IHZpZXdwb3J0RGltZW5zaW9ucy55O1xuXG4gIGxldCBzY2VuZSA9IG5ldyBTY2VuZShzY2VuZURlZiwgdmlld3BvcnQsIHZpZXdwb3J0RGltZW5zaW9ucywgKCkgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGljaygpO1xuICAgIH0sIDApO1xuICB9KTtcblxuICBmdW5jdGlvbiB0aWNrKCkge1xuICAgIHNjZW5lLnRpY2soKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRpY2soKTtcbiAgICB9LCB0aWNrTGVuZ3RoKTtcbiAgfVxuXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBldmVudCA9PiB7XG4gICAgSW5wdXQua2V5RG93bihldmVudC5rZXkpO1xuICB9KTtcblxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGV2ZW50ID0+IHtcbiAgICBJbnB1dC5rZXlVcChldmVudC5rZXkpO1xuICB9KTtcblxuICB2aWV3cG9ydC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgZXZlbnQgPT4ge1xuICAgIElucHV0Lm1vdXNlVXAoZXZlbnQpO1xuICB9KTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDbkRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ2xDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUM5QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNqRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDcEdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDdEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQy9IQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDOUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n")},,function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zdHlsZXMvaW5kZXguY3NzPzU5ZDAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n")}]);