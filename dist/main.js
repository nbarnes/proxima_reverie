!function(n){var t={};function g(e){if(t[e])return t[e].exports;var i=t[e]={i:e,l:!1,exports:{}};return n[e].call(i.exports,i,i.exports,g),i.l=!0,i.exports}g.m=n,g.c=t,g.d=function(n,t,e){g.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:e})},g.r=function(n){Object.defineProperty(n,"__esModule",{value:!0})},g.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return g.d(t,"a",t),t},g.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},g.p="",g(g.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./src/styles/index.css\nvar styles = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/input.js\n\n\nconst Input = (function() {\n  let keysDown = [];\n  let keysPressed = [];\n  let mouseEvent = undefined;\n\n  function keyDown(keyCode) {\n    if (keysPressed.indexOf(keyCode) < 0) {\n      keysPressed.push(keyCode);\n    }\n    if (keysDown.indexOf(keyCode) < 0) {\n      keysDown.push(keyCode);\n    }\n  }\n\n  function keyUp(keyCode) {\n    keysDown = keysDown.filter(element => {\n      return element != keyCode;\n    });\n  }\n\n  function getKeysPressed() {\n    return keysDown.concat(\n      keysPressed.filter(key => {\n        return keysDown.indexOf(key) < 0;\n      })\n    );\n  }\n\n  function mouseUp(event) {\n    mouseEvent = event;\n  }\n\n  function getMouseEvent() {\n    return mouseEvent;\n  }\n\n  function resetInputs() {\n    keysPressed = [];\n    mouseEvent = undefined;\n  }\n\n  return {\n    keyDown: keyDown,\n    keyUp: keyUp,\n    getKeysPressed: getKeysPressed,\n    mouseUp: mouseUp,\n    getMouseEvent: getMouseEvent,\n    resetInputs: resetInputs\n  };\n})();\n\n// CONCATENATED MODULE: ./src/asset_manager.js\n\n\nconst Assets = (function() {\n  let assets = {};\n\n  function loadAssets(assetOwners, callback) {\n    let tempAssetPaths = [];\n    for (let assetOwner of assetOwners) {\n      tempAssetPaths = tempAssetPaths.concat(assetOwner.assetPaths);\n    }\n    let assetPaths = [...new Set(tempAssetPaths)];\n\n    let assetsRemaining = assetPaths.length;\n    for (let assetPath of assetPaths) {\n      let asset = new Image();\n      asset.onload = function() {\n        assets[assetPath] = asset;\n        assetsRemaining--;\n        if (assetsRemaining <= 0) {\n          callback();\n        }\n      };\n      asset.src = assetPath;\n    }\n  }\n\n  function get(assetPath) {\n    return assets[assetPath];\n  }\n\n  return {\n    loadAssets: loadAssets,\n    get: get\n  };\n})();\n\n// CONCATENATED MODULE: ./src/asset_owner.js\n\n\n\nclass AssetOwner {\n\n  constructor(assetPaths) {\n    this.assetPaths = assetPaths;\n  }\n\n}\n\n// CONCATENATED MODULE: ./src/tile.js\n\n\n\n\n\n\nclass tile_Tile extends AssetOwner {\n\n  constructor(assetPaths) {\n    super(assetPaths);\n    this.tileWidth = 128;\n    this.tileHeight = 64;\n    this.imageFrameIndex = 0;\n  }\n\n  get img() {\n    return Assets.get(this.assetPaths[this.imageFrameIndex]);\n  }\n\n}\n\n// CONCATENATED MODULE: ./src/util.js\n\n\nconst rand = max => {\n  return Math.floor(Math.random() * Math.floor(max));\n};\n\nconst coordsEqual = (a, b) => {\n  return a.x == b.x && a.y == b.y;\n};\n\nconst entityMapLocationFromTile = (tile, map, frameOffsets) => {\n  let mapDestination = map.mapCoordsForTile({ x: tile.x, y: tile.y });\n  let tileOffset = map.tileOffsets;\n  return {\n    x: mapDestination.x + tileOffset.x - frameOffsets.x,\n    y: mapDestination.y + tileOffset.y - frameOffsets.y\n  };\n};\n\nconst Facing = {\n  SOUTHEAST: 7,\n  SOUTHWEST: 1,\n  NORTHWEST: 3,\n  NORTHEAST: 5\n};\n\n// CONCATENATED MODULE: ./src/map.js\n\n\n\n\nclass Map {\n  constructor(tiles, mapSize) {\n    this.tiles = tiles;\n    this.mapSize = mapSize;\n    this.tileWidth = tiles[0].tileWidth;\n    this.tileHeight = tiles[0].tileHeight;\n    this.mapDef = buildMapDef(this);\n  }\n\n  get mapCanvas() {\n    if (this.myMapCanvas == undefined) {\n      this.myMapCanvas = drawMapCanvas(this);\n    }\n    return this.myMapCanvas;\n  }\n\n  mapCoordsForTile(tileCoords) {\n    let xOffset = (this.mapSize * this.tileWidth) / 2 - this.tileWidth / 2;\n    let mapX = (tileCoords.x - tileCoords.y) * (this.tileWidth / 2) + xOffset;\n    let mapY = (tileCoords.x + tileCoords.y) * (this.tileHeight / 2);\n    return { x: mapX, y: mapY };\n  }\n\n  get tileOffsets() {\n    return { x: this.tileWidth / 2, y: this.tileHeight / 2 };\n  }\n}\n\nfunction buildMapDef(map) {\n  let mapDef = [];\n  for (let i = 0; i < map.mapSize; i++) {\n    mapDef[i] = [];\n    for (let j = 0; j < map.mapSize; j++) {\n      mapDef[i][j] = map.tiles[rand(map.tiles.length)];\n    }\n  }\n  return mapDef;\n}\n\nfunction drawMapCanvas(map) {\n  let mapCanvas = document.createElement('canvas');\n  mapCanvas.width = map.mapSize * map.tileWidth - map.mapSize;\n  mapCanvas.height = map.mapSize * map.tileHeight - map.mapSize;\n\n  for (let [x, row] of map.mapDef.entries()) {\n    for (let [y, tile] of row.entries()) {\n      drawTile(map, mapCanvas.getContext('2d'), tile, x, y);\n    }\n  }\n  return mapCanvas;\n}\n\nfunction drawTile(map, context, tile, mapX, mapY) {\n  let contextCoords = map.mapCoordsForTile({ x: mapX, y: mapY });\n  context.drawImage(\n    tile.img,\n    contextCoords.x,\n    contextCoords.y,\n    map.tileWidth,\n    map.tileHeight\n  );\n}\n\n// CONCATENATED MODULE: ./src/entity.js\n\n\n\n\n\n\nclass entity_Entity extends AssetOwner {\n  constructor(entityDef, map, brain) {\n    super(entityDef.imagePaths);\n    this.frameSize = entityDef.frameSize;\n    this.frameOffsets = entityDef.frameOffsets || { x: 0, y: 0 };\n    this.map = map;\n    this.currentTile = entityDef.startTile || { x: 0, y: 0 };\n    this.myLocation = entityMapLocationFromTile(\n      this.currentTile,\n      this.map,\n      this.frameOffsets\n    );\n    this.tilePath = [];\n    this.brain = brain;\n    this.destination = undefined;\n    this.facing = entityDef.facing;\n  }\n\n  get image() {\n    return Assets.get(this.assetPaths[0]);\n  }\n\n  get location() {\n    return this.myLocation;\n  }\n\n  set location(newLocation) {\n    let newFacing = undefined;\n    if (newLocation != undefined && this.myLocation != undefined) {\n      if (\n        newLocation.x >= this.myLocation.x &&\n        newLocation.y >= this.myLocation.y\n      ) {\n        newFacing = Facing.SOUTHEAST;\n      } else if (\n        newLocation.x >= this.myLocation.x &&\n        newLocation.y <= this.myLocation.y\n      ) {\n        newFacing = Facing.NORTHEAST;\n      } else if (\n        newLocation.x <= this.myLocation.x &&\n        newLocation.y <= this.myLocation.y\n      ) {\n        newFacing = Facing.NORTHWEST;\n      } else if (\n        newLocation.x <= this.myLocation.x &&\n        newLocation.y >= this.myLocation.y\n      ) {\n        newFacing = Facing.SOUTHWEST;\n      } else {\n        console.log('Error in facing alg in Entity; this should never happen');\n        newFacing = Facing.NORTHEAST;\n      }\n    }\n    this.facing = newFacing;\n    this.myLocation = newLocation;\n  }\n\n  get frameXOrigin() {\n    if (this.facing != undefined) {\n      return this.facing * this.frameSize.width;\n    }\n    return 0;\n  }\n\n  get frameYOrigin() {\n    return 0;\n  }\n\n  respondToMouse(eventTile, blockingAnimationCallback) {\n    if (this.activity == undefined) {\n      this.activity = this.brain.getActivity(\n        this,\n        eventTile,\n        blockingAnimationCallback\n      );\n    }\n  }\n\n  activityDone() {\n    this.activity = undefined;\n  }\n\n  tick() {\n    if (this.activity != undefined) {\n      this.activity();\n    }\n  }\n}\n\n// CONCATENATED MODULE: ./src/brain.js\n\n\n\n\nclass brain_MobileBrain {\n  getActivity(entity, eventTile, blockingAnimationCallback) {\n    let startTile = entity.currentTile;\n    let endTile = eventTile;\n    let tilePath = buildTilePath(startTile, endTile);\n    let destination = undefined;\n    blockingAnimationCallback(true);\n    return () => {\n      if (destination != undefined) {\n        let nextPosition = getNextMapPosition(entity, destination);\n        entity.location = nextPosition;\n        if (coordsEqual(entity.location, destination)) {\n          destination = undefined;\n        }\n      } else if (tilePath.length > 0) {\n        entity.currentTile = tilePath[0];\n        destination = getDestination(entity, tilePath);\n      } else {\n        entity.activityDone();\n        blockingAnimationCallback(false);\n      }\n    };\n  }\n}\n\nfunction getNextMapPosition(entity, destination) {\n  let currentLoc = { x: entity.location.x, y: entity.location.y };\n  let dx = currentLoc.x - destination.x,\n    dy = currentLoc.y - destination.y;\n  let dist = Math.sqrt(dx * dx + dy * dy);\n  let velX = (dx / dist) * 5;\n  let velY = (dy / dist) * 5;\n  if (Math.abs(dx) < Math.abs(velX)) {\n    velX = dx;\n  }\n  if (Math.abs(dy) < Math.abs(velY)) {\n    velY = dy;\n  }\n  return {\n    x: (currentLoc.x -= velX),\n    y: (currentLoc.y -= velY)\n  };\n}\n\nfunction getDestination(entity, tilePath) {\n  let nextTileDestination = tilePath.shift();\n  let nextDestination = undefined;\n  if (nextTileDestination != undefined) {\n    nextDestination = entityMapLocationFromTile(\n      nextTileDestination,\n      entity.map,\n      entity.frameOffsets\n    );\n  }\n  return nextDestination;\n}\n\n// Uses Brensenham's line algorithm\nfunction buildTilePath(start, end) {\n  let path = [];\n\n  let currentX = start.x,\n    currentY = start.y;\n  let deltaX = Math.abs(end.x - start.x),\n    deltaY = Math.abs(end.y - start.y);\n  let slopeX = start.x < end.x ? 1 : -1,\n    slopeY = start.y < end.y ? 1 : -1;\n  let err = deltaX - deltaY;\n\n  while (currentX != end.x || currentY != end.y) {\n    let err2 = 2 * err;\n    if (err2 > deltaY * -1) {\n      err -= deltaY;\n      currentX += slopeX;\n    } else if (err2 < deltaX) {\n      err += deltaX;\n      currentY += slopeY;\n    }\n    path.push({ x: currentX, y: currentY });\n  }\n  return path;\n}\n\n// CONCATENATED MODULE: ./src/scene.js\n\n\n\n\n\n\n\n\n\nclass scene_Scene {\n  constructor(sceneDef, viewport, viewportDimensions, loadCompleteCallback) {\n    let tiles = sceneDef.mapDef.tileImagePaths.map(tileImagePath => {\n      return new tile_Tile([tileImagePath]);\n    });\n\n    this.map = new Map(tiles, sceneDef.mapDef.mapSize);\n\n    this.mobiles = sceneDef.mobileDefs.map(mobileDef => {\n      return new entity_Entity(mobileDef, this.map, new brain_MobileBrain());\n    });\n    this.activeMobile = this.mobiles[0];\n    this.props = sceneDef.propDefs.map(propDef => {\n      return new entity_Entity(propDef, this.map);\n    });\n\n    this.viewport = viewport;\n    this.viewportDimensions = viewportDimensions;\n\n    Assets.loadAssets([...tiles, ...this.mobiles, ...this.props], () => {\n      this.viewportOffsetDimensions = {\n        x: this.map.mapCanvas.width / 2 - viewportDimensions.x / 2,\n        y: this.map.mapCanvas.height / 2 - viewportDimensions.y / 2\n      };\n      loadCompleteCallback();\n    });\n\n    this.waitingOnAnimation = false;\n  }\n\n  tick() {\n    let mouseEvent = Input.getMouseEvent();\n    if (mouseEvent != undefined) {\n      let eventViewportPosition = getEventViewportPosition(\n        this.viewport,\n        mouseEvent\n      );\n      let eventMapPosition = getCursorMapPosition(\n        this.viewportOffsetDimensions,\n        eventViewportPosition\n      );\n      let tilePosition = getCursorTilePosition(this.map, eventMapPosition);\n\n      if (!this.waitingOnAnimation) {\n        this.activeMobile.respondToMouse(tilePosition, shouldWait => {\n          this.waitingOnAnimation = shouldWait;\n        });\n\n        if (this.mobiles.slice(-1)[0] == this.activeMobile) {\n          this.activeMobile = this.mobiles[0];\n        } else {\n          this.activeMobile = this.mobiles[\n            this.mobiles.indexOf(this.activeMobile) + 1\n          ];\n        }\n      }\n    }\n\n    this.mobiles.forEach(mobile => {\n      mobile.tick();\n    });\n    this.props.forEach(prop => {\n      prop.tick();\n    });\n\n    let context = this.viewport.getContext('2d');\n    context.clearRect(\n      0,\n      0,\n      this.viewportDimensions.x,\n      this.viewportDimensions.y\n    );\n    context.drawImage(\n      this.map.mapCanvas,\n      this.viewportOffsetDimensions.x,\n      this.viewportOffsetDimensions.y,\n      this.viewportDimensions.x,\n      this.viewportDimensions.y,\n      0,\n      0,\n      this.viewportDimensions.x,\n      this.viewportDimensions.y\n    );\n\n    this.mobiles.forEach(mobile => {\n      context.drawImage(\n        mobile.image,\n        mobile.frameXOrigin,\n        mobile.frameYOrigin,\n        mobile.frameSize.width,\n        mobile.frameSize.height,\n        mobile.location.x - this.viewportOffsetDimensions.x,\n        mobile.location.y - this.viewportOffsetDimensions.y,\n        mobile.frameSize.width,\n        mobile.frameSize.height\n      );\n    });\n\n    this.props.forEach(prop => {\n      context.drawImage(\n        prop.image,\n        prop.frameXOrigin,\n        prop.frameYOrigin,\n        prop.frameSize.width,\n        prop.frameSize.height,\n        prop.location.x - this.viewportOffsetDimensions.x,\n        prop.location.y - this.viewportOffsetDimensions.y,\n        prop.frameSize.width,\n        prop.frameSize.height\n      );\n    });\n\n    Input.resetInputs();\n  }\n}\n\nfunction getCursorMapPosition(viewOffsets, position) {\n  return { x: viewOffsets.x + position.x, y: viewOffsets.y + position.y };\n}\n\nfunction getCursorTilePosition(map, position) {\n  let halfTileWidth = map.tileWidth / 2;\n  let halfTileHeight = map.tileHeight / 2;\n  let halfMapSize = map.mapSize / 2;\n  let tileX =\n    (position.x / halfTileWidth + position.y / halfTileHeight) / 2 -\n    halfMapSize;\n  let tileY =\n    (position.y / halfTileHeight - position.x / halfTileWidth) / 2 +\n    halfMapSize;\n  return { x: Math.floor(tileX), y: Math.floor(tileY) };\n}\n\nfunction getEventViewportPosition(viewport, event) {\n  let rect = viewport.getBoundingClientRect();\n  let x = event.clientX - rect.left;\n  let y = event.clientY - rect.top;\n  return { x: x, y: y };\n}\n\n// CONCATENATED MODULE: ./src/scene_definition.js\n\n\nconst scene_definition_sceneDef = {\n  mapDef: {\n    mapSize: 10,\n    tileImagePaths: [\n      './src/img/ground_tiles/brickpavers2.png',\n      './src/img/ground_tiles/concrete368a.png',\n      './src/img/ground_tiles/cretebrick970.png',\n      './src/img/ground_tiles/dirt.png',\n      './src/img/ground_tiles/dirtsand2.png',\n      './src/img/ground_tiles/rock.png',\n      './src/img/ground_tiles/snow.png',\n      './src/img/ground_tiles/stone.png'\n    ]\n  },\n  mobileDefs: [\n    {\n      imagePaths: ['./src/img/mobiles/8way_mobile.png'],\n      startTile: { x: 3, y: 3 },\n      frameSize: { width: 60, height: 110 },\n      frameOffsets: { x: 30, y: 110 }\n    },\n    {\n      imagePaths: ['./src/img/mobiles/8way_mobile.png'],\n      startTile: { x: 5, y: 4 },\n      frameSize: { width: 60, height: 110 },\n      frameOffsets: { x: 30, y: 110 }\n    },\n    {\n      imagePaths: ['./src/img/mobiles/8way_mobile.png'],\n      startTile: { x: 3, y: 6 },\n      frameSize: { width: 60, height: 110 },\n      frameOffsets: { x: 30, y: 110 }\n    }\n  ],\n  propDefs: [\n    {\n      imagePaths: ['./src/img/props/statue1-01.png'],\n      startTile: { x: 5, y: 5 },\n      frameSize: { width: 128, height: 128 },\n      frameOffsets: { x: 0, y: 14 }\n    },\n    {\n      imagePaths: ['./src/img/props/statue1-02.png'],\n      startTile: { x: 0, y: 3 },\n      frameSize: { width: 128, height: 128 },\n      frameOffsets: { x: 0, y: 14 }\n    },\n    {\n      imagePaths: ['./src/img/props/statue1-03.png'],\n      startTile: { x: 4, y: 1 },\n      frameSize: { width: 128, height: 128 },\n      frameOffsets: { x: 0, y: 14 }\n    },\n    {\n      imagePaths: ['./src/img/props/statue1-04.png'],\n      startTile: { x: 5, y: 1 },\n      frameSize: { width: 128, height: 128 },\n      frameOffsets: { x: 0, y: 14 }\n    },\n    {\n      imagePaths: ['./src/img/props/statue1-02.png'],\n      startTile: { x: 6, y: 0 },\n      frameSize: { width: 128, height: 128 },\n      frameOffsets: { x: 0, y: 14 }\n    },\n    {\n      imagePaths: ['./src/img/props/statue1-03.png'],\n      startTile: { x: 7, y: 9 },\n      frameSize: { width: 128, height: 128 },\n      frameOffsets: { x: 0, y: 14 }\n    }\n  ]\n};\n\n// CONCATENATED MODULE: ./src/index.js\n\n\n\n\n\n\n\n\ndocument.addEventListener('DOMContentLoaded', function() {\n  console.log('Proxma Reverie approaches!');\n\n  let tickLength = 50;\n\n  var viewport = document.getElementById('viewport-canvas');\n  let viewportDimensions = { x: 600, y: 400 };\n  viewport.width = viewportDimensions.x;\n  viewport.height = viewportDimensions.y;\n\n  let scene = new scene_Scene(scene_definition_sceneDef, viewport, viewportDimensions, () => {\n    setTimeout(() => {\n      tick();\n    }, 0);\n  });\n\n  function tick() {\n    scene.tick();\n    setTimeout(() => {\n      tick();\n    }, tickLength);\n  }\n\n  document.addEventListener('keydown', event => {\n    Input.keyDown(event.key);\n  });\n\n  document.addEventListener('keyup', event => {\n    Input.keyUp(event.key);\n  });\n\n  viewport.addEventListener('mouseup', event => {\n    Input.mouseUp(event);\n  });\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9pbnB1dC5qcz85ZWY4Iiwid2VicGFjazovLy8uL3NyYy9hc3NldF9tYW5hZ2VyLmpzP2FlMGMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0X293bmVyLmpzPzc0YTIiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RpbGUuanM/MGM4MCIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbC5qcz9lMGViIiwid2VicGFjazovLy8uL3NyYy9tYXAuanM/MThiYSIsIndlYnBhY2s6Ly8vLi9zcmMvZW50aXR5LmpzPzYyN2EiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JyYWluLmpzPzNiYzMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjZW5lLmpzPzI2NGMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjZW5lX2RlZmluaXRpb24uanM/NGI4ZiIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanM/YjYzNSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBjb25zdCBJbnB1dCA9IChmdW5jdGlvbigpIHtcbiAgbGV0IGtleXNEb3duID0gW107XG4gIGxldCBrZXlzUHJlc3NlZCA9IFtdO1xuICBsZXQgbW91c2VFdmVudCA9IHVuZGVmaW5lZDtcblxuICBmdW5jdGlvbiBrZXlEb3duKGtleUNvZGUpIHtcbiAgICBpZiAoa2V5c1ByZXNzZWQuaW5kZXhPZihrZXlDb2RlKSA8IDApIHtcbiAgICAgIGtleXNQcmVzc2VkLnB1c2goa2V5Q29kZSk7XG4gICAgfVxuICAgIGlmIChrZXlzRG93bi5pbmRleE9mKGtleUNvZGUpIDwgMCkge1xuICAgICAga2V5c0Rvd24ucHVzaChrZXlDb2RlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBrZXlVcChrZXlDb2RlKSB7XG4gICAga2V5c0Rvd24gPSBrZXlzRG93bi5maWx0ZXIoZWxlbWVudCA9PiB7XG4gICAgICByZXR1cm4gZWxlbWVudCAhPSBrZXlDb2RlO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0S2V5c1ByZXNzZWQoKSB7XG4gICAgcmV0dXJuIGtleXNEb3duLmNvbmNhdChcbiAgICAgIGtleXNQcmVzc2VkLmZpbHRlcihrZXkgPT4ge1xuICAgICAgICByZXR1cm4ga2V5c0Rvd24uaW5kZXhPZihrZXkpIDwgMDtcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1vdXNlVXAoZXZlbnQpIHtcbiAgICBtb3VzZUV2ZW50ID0gZXZlbnQ7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRNb3VzZUV2ZW50KCkge1xuICAgIHJldHVybiBtb3VzZUV2ZW50O1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRJbnB1dHMoKSB7XG4gICAga2V5c1ByZXNzZWQgPSBbXTtcbiAgICBtb3VzZUV2ZW50ID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBrZXlEb3duOiBrZXlEb3duLFxuICAgIGtleVVwOiBrZXlVcCxcbiAgICBnZXRLZXlzUHJlc3NlZDogZ2V0S2V5c1ByZXNzZWQsXG4gICAgbW91c2VVcDogbW91c2VVcCxcbiAgICBnZXRNb3VzZUV2ZW50OiBnZXRNb3VzZUV2ZW50LFxuICAgIHJlc2V0SW5wdXRzOiByZXNldElucHV0c1xuICB9O1xufSkoKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGNvbnN0IEFzc2V0cyA9IChmdW5jdGlvbigpIHtcbiAgbGV0IGFzc2V0cyA9IHt9O1xuXG4gIGZ1bmN0aW9uIGxvYWRBc3NldHMoYXNzZXRPd25lcnMsIGNhbGxiYWNrKSB7XG4gICAgbGV0IHRlbXBBc3NldFBhdGhzID0gW107XG4gICAgZm9yIChsZXQgYXNzZXRPd25lciBvZiBhc3NldE93bmVycykge1xuICAgICAgdGVtcEFzc2V0UGF0aHMgPSB0ZW1wQXNzZXRQYXRocy5jb25jYXQoYXNzZXRPd25lci5hc3NldFBhdGhzKTtcbiAgICB9XG4gICAgbGV0IGFzc2V0UGF0aHMgPSBbLi4ubmV3IFNldCh0ZW1wQXNzZXRQYXRocyldO1xuXG4gICAgbGV0IGFzc2V0c1JlbWFpbmluZyA9IGFzc2V0UGF0aHMubGVuZ3RoO1xuICAgIGZvciAobGV0IGFzc2V0UGF0aCBvZiBhc3NldFBhdGhzKSB7XG4gICAgICBsZXQgYXNzZXQgPSBuZXcgSW1hZ2UoKTtcbiAgICAgIGFzc2V0Lm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBhc3NldHNbYXNzZXRQYXRoXSA9IGFzc2V0O1xuICAgICAgICBhc3NldHNSZW1haW5pbmctLTtcbiAgICAgICAgaWYgKGFzc2V0c1JlbWFpbmluZyA8PSAwKSB7XG4gICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGFzc2V0LnNyYyA9IGFzc2V0UGF0aDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXQoYXNzZXRQYXRoKSB7XG4gICAgcmV0dXJuIGFzc2V0c1thc3NldFBhdGhdO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBsb2FkQXNzZXRzOiBsb2FkQXNzZXRzLFxuICAgIGdldDogZ2V0XG4gIH07XG59KSgpO1xuIiwiXG5cInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXNzZXRPd25lciB7XG5cbiAgY29uc3RydWN0b3IoYXNzZXRQYXRocykge1xuICAgIHRoaXMuYXNzZXRQYXRocyA9IGFzc2V0UGF0aHM7XG4gIH1cblxufVxuIiwiXG5cInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IHsgQXNzZXRzIH0gZnJvbSBcIi4vYXNzZXRfbWFuYWdlclwiO1xuaW1wb3J0IEFzc2V0T3duZXIgZnJvbSBcIi4vYXNzZXRfb3duZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGlsZSBleHRlbmRzIEFzc2V0T3duZXIge1xuXG4gIGNvbnN0cnVjdG9yKGFzc2V0UGF0aHMpIHtcbiAgICBzdXBlcihhc3NldFBhdGhzKTtcbiAgICB0aGlzLnRpbGVXaWR0aCA9IDEyODtcbiAgICB0aGlzLnRpbGVIZWlnaHQgPSA2NDtcbiAgICB0aGlzLmltYWdlRnJhbWVJbmRleCA9IDA7XG4gIH1cblxuICBnZXQgaW1nKCkge1xuICAgIHJldHVybiBBc3NldHMuZ2V0KHRoaXMuYXNzZXRQYXRoc1t0aGlzLmltYWdlRnJhbWVJbmRleF0pO1xuICB9XG5cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGNvbnN0IHJhbmQgPSBtYXggPT4ge1xuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTWF0aC5mbG9vcihtYXgpKTtcbn07XG5cbmV4cG9ydCBjb25zdCBjb29yZHNFcXVhbCA9IChhLCBiKSA9PiB7XG4gIHJldHVybiBhLnggPT0gYi54ICYmIGEueSA9PSBiLnk7XG59O1xuXG5leHBvcnQgY29uc3QgZW50aXR5TWFwTG9jYXRpb25Gcm9tVGlsZSA9ICh0aWxlLCBtYXAsIGZyYW1lT2Zmc2V0cykgPT4ge1xuICBsZXQgbWFwRGVzdGluYXRpb24gPSBtYXAubWFwQ29vcmRzRm9yVGlsZSh7IHg6IHRpbGUueCwgeTogdGlsZS55IH0pO1xuICBsZXQgdGlsZU9mZnNldCA9IG1hcC50aWxlT2Zmc2V0cztcbiAgcmV0dXJuIHtcbiAgICB4OiBtYXBEZXN0aW5hdGlvbi54ICsgdGlsZU9mZnNldC54IC0gZnJhbWVPZmZzZXRzLngsXG4gICAgeTogbWFwRGVzdGluYXRpb24ueSArIHRpbGVPZmZzZXQueSAtIGZyYW1lT2Zmc2V0cy55XG4gIH07XG59O1xuXG5leHBvcnQgY29uc3QgRmFjaW5nID0ge1xuICBTT1VUSEVBU1Q6IDcsXG4gIFNPVVRIV0VTVDogMSxcbiAgTk9SVEhXRVNUOiAzLFxuICBOT1JUSEVBU1Q6IDVcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IHJhbmQgfSBmcm9tICcuL3V0aWwnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXAge1xuICBjb25zdHJ1Y3Rvcih0aWxlcywgbWFwU2l6ZSkge1xuICAgIHRoaXMudGlsZXMgPSB0aWxlcztcbiAgICB0aGlzLm1hcFNpemUgPSBtYXBTaXplO1xuICAgIHRoaXMudGlsZVdpZHRoID0gdGlsZXNbMF0udGlsZVdpZHRoO1xuICAgIHRoaXMudGlsZUhlaWdodCA9IHRpbGVzWzBdLnRpbGVIZWlnaHQ7XG4gICAgdGhpcy5tYXBEZWYgPSBidWlsZE1hcERlZih0aGlzKTtcbiAgfVxuXG4gIGdldCBtYXBDYW52YXMoKSB7XG4gICAgaWYgKHRoaXMubXlNYXBDYW52YXMgPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLm15TWFwQ2FudmFzID0gZHJhd01hcENhbnZhcyh0aGlzKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMubXlNYXBDYW52YXM7XG4gIH1cblxuICBtYXBDb29yZHNGb3JUaWxlKHRpbGVDb29yZHMpIHtcbiAgICBsZXQgeE9mZnNldCA9ICh0aGlzLm1hcFNpemUgKiB0aGlzLnRpbGVXaWR0aCkgLyAyIC0gdGhpcy50aWxlV2lkdGggLyAyO1xuICAgIGxldCBtYXBYID0gKHRpbGVDb29yZHMueCAtIHRpbGVDb29yZHMueSkgKiAodGhpcy50aWxlV2lkdGggLyAyKSArIHhPZmZzZXQ7XG4gICAgbGV0IG1hcFkgPSAodGlsZUNvb3Jkcy54ICsgdGlsZUNvb3Jkcy55KSAqICh0aGlzLnRpbGVIZWlnaHQgLyAyKTtcbiAgICByZXR1cm4geyB4OiBtYXBYLCB5OiBtYXBZIH07XG4gIH1cblxuICBnZXQgdGlsZU9mZnNldHMoKSB7XG4gICAgcmV0dXJuIHsgeDogdGhpcy50aWxlV2lkdGggLyAyLCB5OiB0aGlzLnRpbGVIZWlnaHQgLyAyIH07XG4gIH1cbn1cblxuZnVuY3Rpb24gYnVpbGRNYXBEZWYobWFwKSB7XG4gIGxldCBtYXBEZWYgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXAubWFwU2l6ZTsgaSsrKSB7XG4gICAgbWFwRGVmW2ldID0gW107XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBtYXAubWFwU2l6ZTsgaisrKSB7XG4gICAgICBtYXBEZWZbaV1bal0gPSBtYXAudGlsZXNbcmFuZChtYXAudGlsZXMubGVuZ3RoKV07XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXBEZWY7XG59XG5cbmZ1bmN0aW9uIGRyYXdNYXBDYW52YXMobWFwKSB7XG4gIGxldCBtYXBDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgbWFwQ2FudmFzLndpZHRoID0gbWFwLm1hcFNpemUgKiBtYXAudGlsZVdpZHRoIC0gbWFwLm1hcFNpemU7XG4gIG1hcENhbnZhcy5oZWlnaHQgPSBtYXAubWFwU2l6ZSAqIG1hcC50aWxlSGVpZ2h0IC0gbWFwLm1hcFNpemU7XG5cbiAgZm9yIChsZXQgW3gsIHJvd10gb2YgbWFwLm1hcERlZi5lbnRyaWVzKCkpIHtcbiAgICBmb3IgKGxldCBbeSwgdGlsZV0gb2Ygcm93LmVudHJpZXMoKSkge1xuICAgICAgZHJhd1RpbGUobWFwLCBtYXBDYW52YXMuZ2V0Q29udGV4dCgnMmQnKSwgdGlsZSwgeCwgeSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXBDYW52YXM7XG59XG5cbmZ1bmN0aW9uIGRyYXdUaWxlKG1hcCwgY29udGV4dCwgdGlsZSwgbWFwWCwgbWFwWSkge1xuICBsZXQgY29udGV4dENvb3JkcyA9IG1hcC5tYXBDb29yZHNGb3JUaWxlKHsgeDogbWFwWCwgeTogbWFwWSB9KTtcbiAgY29udGV4dC5kcmF3SW1hZ2UoXG4gICAgdGlsZS5pbWcsXG4gICAgY29udGV4dENvb3Jkcy54LFxuICAgIGNvbnRleHRDb29yZHMueSxcbiAgICBtYXAudGlsZVdpZHRoLFxuICAgIG1hcC50aWxlSGVpZ2h0XG4gICk7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IEFzc2V0cyB9IGZyb20gJy4vYXNzZXRfbWFuYWdlcic7XG5pbXBvcnQgQXNzZXRPd25lciBmcm9tICcuL2Fzc2V0X293bmVyJztcbmltcG9ydCB7IGVudGl0eU1hcExvY2F0aW9uRnJvbVRpbGUsIEZhY2luZyB9IGZyb20gJy4vdXRpbCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVudGl0eSBleHRlbmRzIEFzc2V0T3duZXIge1xuICBjb25zdHJ1Y3RvcihlbnRpdHlEZWYsIG1hcCwgYnJhaW4pIHtcbiAgICBzdXBlcihlbnRpdHlEZWYuaW1hZ2VQYXRocyk7XG4gICAgdGhpcy5mcmFtZVNpemUgPSBlbnRpdHlEZWYuZnJhbWVTaXplO1xuICAgIHRoaXMuZnJhbWVPZmZzZXRzID0gZW50aXR5RGVmLmZyYW1lT2Zmc2V0cyB8fCB7IHg6IDAsIHk6IDAgfTtcbiAgICB0aGlzLm1hcCA9IG1hcDtcbiAgICB0aGlzLmN1cnJlbnRUaWxlID0gZW50aXR5RGVmLnN0YXJ0VGlsZSB8fCB7IHg6IDAsIHk6IDAgfTtcbiAgICB0aGlzLm15TG9jYXRpb24gPSBlbnRpdHlNYXBMb2NhdGlvbkZyb21UaWxlKFxuICAgICAgdGhpcy5jdXJyZW50VGlsZSxcbiAgICAgIHRoaXMubWFwLFxuICAgICAgdGhpcy5mcmFtZU9mZnNldHNcbiAgICApO1xuICAgIHRoaXMudGlsZVBhdGggPSBbXTtcbiAgICB0aGlzLmJyYWluID0gYnJhaW47XG4gICAgdGhpcy5kZXN0aW5hdGlvbiA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmZhY2luZyA9IGVudGl0eURlZi5mYWNpbmc7XG4gIH1cblxuICBnZXQgaW1hZ2UoKSB7XG4gICAgcmV0dXJuIEFzc2V0cy5nZXQodGhpcy5hc3NldFBhdGhzWzBdKTtcbiAgfVxuXG4gIGdldCBsb2NhdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5teUxvY2F0aW9uO1xuICB9XG5cbiAgc2V0IGxvY2F0aW9uKG5ld0xvY2F0aW9uKSB7XG4gICAgbGV0IG5ld0ZhY2luZyA9IHVuZGVmaW5lZDtcbiAgICBpZiAobmV3TG9jYXRpb24gIT0gdW5kZWZpbmVkICYmIHRoaXMubXlMb2NhdGlvbiAhPSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChcbiAgICAgICAgbmV3TG9jYXRpb24ueCA+PSB0aGlzLm15TG9jYXRpb24ueCAmJlxuICAgICAgICBuZXdMb2NhdGlvbi55ID49IHRoaXMubXlMb2NhdGlvbi55XG4gICAgICApIHtcbiAgICAgICAgbmV3RmFjaW5nID0gRmFjaW5nLlNPVVRIRUFTVDtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIG5ld0xvY2F0aW9uLnggPj0gdGhpcy5teUxvY2F0aW9uLnggJiZcbiAgICAgICAgbmV3TG9jYXRpb24ueSA8PSB0aGlzLm15TG9jYXRpb24ueVxuICAgICAgKSB7XG4gICAgICAgIG5ld0ZhY2luZyA9IEZhY2luZy5OT1JUSEVBU1Q7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICBuZXdMb2NhdGlvbi54IDw9IHRoaXMubXlMb2NhdGlvbi54ICYmXG4gICAgICAgIG5ld0xvY2F0aW9uLnkgPD0gdGhpcy5teUxvY2F0aW9uLnlcbiAgICAgICkge1xuICAgICAgICBuZXdGYWNpbmcgPSBGYWNpbmcuTk9SVEhXRVNUO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgbmV3TG9jYXRpb24ueCA8PSB0aGlzLm15TG9jYXRpb24ueCAmJlxuICAgICAgICBuZXdMb2NhdGlvbi55ID49IHRoaXMubXlMb2NhdGlvbi55XG4gICAgICApIHtcbiAgICAgICAgbmV3RmFjaW5nID0gRmFjaW5nLlNPVVRIV0VTVDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBpbiBmYWNpbmcgYWxnIGluIEVudGl0eTsgdGhpcyBzaG91bGQgbmV2ZXIgaGFwcGVuJyk7XG4gICAgICAgIG5ld0ZhY2luZyA9IEZhY2luZy5OT1JUSEVBU1Q7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuZmFjaW5nID0gbmV3RmFjaW5nO1xuICAgIHRoaXMubXlMb2NhdGlvbiA9IG5ld0xvY2F0aW9uO1xuICB9XG5cbiAgZ2V0IGZyYW1lWE9yaWdpbigpIHtcbiAgICBpZiAodGhpcy5mYWNpbmcgIT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5mYWNpbmcgKiB0aGlzLmZyYW1lU2l6ZS53aWR0aDtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBnZXQgZnJhbWVZT3JpZ2luKCkge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgcmVzcG9uZFRvTW91c2UoZXZlbnRUaWxlLCBibG9ja2luZ0FuaW1hdGlvbkNhbGxiYWNrKSB7XG4gICAgaWYgKHRoaXMuYWN0aXZpdHkgPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmFjdGl2aXR5ID0gdGhpcy5icmFpbi5nZXRBY3Rpdml0eShcbiAgICAgICAgdGhpcyxcbiAgICAgICAgZXZlbnRUaWxlLFxuICAgICAgICBibG9ja2luZ0FuaW1hdGlvbkNhbGxiYWNrXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGFjdGl2aXR5RG9uZSgpIHtcbiAgICB0aGlzLmFjdGl2aXR5ID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgdGljaygpIHtcbiAgICBpZiAodGhpcy5hY3Rpdml0eSAhPSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuYWN0aXZpdHkoKTtcbiAgICB9XG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgZW50aXR5TWFwTG9jYXRpb25Gcm9tVGlsZSwgY29vcmRzRXF1YWwgfSBmcm9tICcuL3V0aWwnO1xuXG5leHBvcnQgY2xhc3MgTW9iaWxlQnJhaW4ge1xuICBnZXRBY3Rpdml0eShlbnRpdHksIGV2ZW50VGlsZSwgYmxvY2tpbmdBbmltYXRpb25DYWxsYmFjaykge1xuICAgIGxldCBzdGFydFRpbGUgPSBlbnRpdHkuY3VycmVudFRpbGU7XG4gICAgbGV0IGVuZFRpbGUgPSBldmVudFRpbGU7XG4gICAgbGV0IHRpbGVQYXRoID0gYnVpbGRUaWxlUGF0aChzdGFydFRpbGUsIGVuZFRpbGUpO1xuICAgIGxldCBkZXN0aW5hdGlvbiA9IHVuZGVmaW5lZDtcbiAgICBibG9ja2luZ0FuaW1hdGlvbkNhbGxiYWNrKHRydWUpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoZGVzdGluYXRpb24gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxldCBuZXh0UG9zaXRpb24gPSBnZXROZXh0TWFwUG9zaXRpb24oZW50aXR5LCBkZXN0aW5hdGlvbik7XG4gICAgICAgIGVudGl0eS5sb2NhdGlvbiA9IG5leHRQb3NpdGlvbjtcbiAgICAgICAgaWYgKGNvb3Jkc0VxdWFsKGVudGl0eS5sb2NhdGlvbiwgZGVzdGluYXRpb24pKSB7XG4gICAgICAgICAgZGVzdGluYXRpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGlsZVBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICBlbnRpdHkuY3VycmVudFRpbGUgPSB0aWxlUGF0aFswXTtcbiAgICAgICAgZGVzdGluYXRpb24gPSBnZXREZXN0aW5hdGlvbihlbnRpdHksIHRpbGVQYXRoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVudGl0eS5hY3Rpdml0eURvbmUoKTtcbiAgICAgICAgYmxvY2tpbmdBbmltYXRpb25DYWxsYmFjayhmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXROZXh0TWFwUG9zaXRpb24oZW50aXR5LCBkZXN0aW5hdGlvbikge1xuICBsZXQgY3VycmVudExvYyA9IHsgeDogZW50aXR5LmxvY2F0aW9uLngsIHk6IGVudGl0eS5sb2NhdGlvbi55IH07XG4gIGxldCBkeCA9IGN1cnJlbnRMb2MueCAtIGRlc3RpbmF0aW9uLngsXG4gICAgZHkgPSBjdXJyZW50TG9jLnkgLSBkZXN0aW5hdGlvbi55O1xuICBsZXQgZGlzdCA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gIGxldCB2ZWxYID0gKGR4IC8gZGlzdCkgKiA1O1xuICBsZXQgdmVsWSA9IChkeSAvIGRpc3QpICogNTtcbiAgaWYgKE1hdGguYWJzKGR4KSA8IE1hdGguYWJzKHZlbFgpKSB7XG4gICAgdmVsWCA9IGR4O1xuICB9XG4gIGlmIChNYXRoLmFicyhkeSkgPCBNYXRoLmFicyh2ZWxZKSkge1xuICAgIHZlbFkgPSBkeTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHg6IChjdXJyZW50TG9jLnggLT0gdmVsWCksXG4gICAgeTogKGN1cnJlbnRMb2MueSAtPSB2ZWxZKVxuICB9O1xufVxuXG5mdW5jdGlvbiBnZXREZXN0aW5hdGlvbihlbnRpdHksIHRpbGVQYXRoKSB7XG4gIGxldCBuZXh0VGlsZURlc3RpbmF0aW9uID0gdGlsZVBhdGguc2hpZnQoKTtcbiAgbGV0IG5leHREZXN0aW5hdGlvbiA9IHVuZGVmaW5lZDtcbiAgaWYgKG5leHRUaWxlRGVzdGluYXRpb24gIT0gdW5kZWZpbmVkKSB7XG4gICAgbmV4dERlc3RpbmF0aW9uID0gZW50aXR5TWFwTG9jYXRpb25Gcm9tVGlsZShcbiAgICAgIG5leHRUaWxlRGVzdGluYXRpb24sXG4gICAgICBlbnRpdHkubWFwLFxuICAgICAgZW50aXR5LmZyYW1lT2Zmc2V0c1xuICAgICk7XG4gIH1cbiAgcmV0dXJuIG5leHREZXN0aW5hdGlvbjtcbn1cblxuLy8gVXNlcyBCcmVuc2VuaGFtJ3MgbGluZSBhbGdvcml0aG1cbmZ1bmN0aW9uIGJ1aWxkVGlsZVBhdGgoc3RhcnQsIGVuZCkge1xuICBsZXQgcGF0aCA9IFtdO1xuXG4gIGxldCBjdXJyZW50WCA9IHN0YXJ0LngsXG4gICAgY3VycmVudFkgPSBzdGFydC55O1xuICBsZXQgZGVsdGFYID0gTWF0aC5hYnMoZW5kLnggLSBzdGFydC54KSxcbiAgICBkZWx0YVkgPSBNYXRoLmFicyhlbmQueSAtIHN0YXJ0LnkpO1xuICBsZXQgc2xvcGVYID0gc3RhcnQueCA8IGVuZC54ID8gMSA6IC0xLFxuICAgIHNsb3BlWSA9IHN0YXJ0LnkgPCBlbmQueSA/IDEgOiAtMTtcbiAgbGV0IGVyciA9IGRlbHRhWCAtIGRlbHRhWTtcblxuICB3aGlsZSAoY3VycmVudFggIT0gZW5kLnggfHwgY3VycmVudFkgIT0gZW5kLnkpIHtcbiAgICBsZXQgZXJyMiA9IDIgKiBlcnI7XG4gICAgaWYgKGVycjIgPiBkZWx0YVkgKiAtMSkge1xuICAgICAgZXJyIC09IGRlbHRhWTtcbiAgICAgIGN1cnJlbnRYICs9IHNsb3BlWDtcbiAgICB9IGVsc2UgaWYgKGVycjIgPCBkZWx0YVgpIHtcbiAgICAgIGVyciArPSBkZWx0YVg7XG4gICAgICBjdXJyZW50WSArPSBzbG9wZVk7XG4gICAgfVxuICAgIHBhdGgucHVzaCh7IHg6IGN1cnJlbnRYLCB5OiBjdXJyZW50WSB9KTtcbiAgfVxuICByZXR1cm4gcGF0aDtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IFRpbGUgZnJvbSAnLi90aWxlJztcbmltcG9ydCBNYXAgZnJvbSAnLi9tYXAnO1xuaW1wb3J0IEVudGl0eSBmcm9tICcuL2VudGl0eSc7XG5pbXBvcnQgeyBBc3NldHMgfSBmcm9tICcuL2Fzc2V0X21hbmFnZXInO1xuaW1wb3J0IHsgSW5wdXQgfSBmcm9tICcuL2lucHV0JztcbmltcG9ydCB7IE1vYmlsZUJyYWluIH0gZnJvbSAnLi9icmFpbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjZW5lIHtcbiAgY29uc3RydWN0b3Ioc2NlbmVEZWYsIHZpZXdwb3J0LCB2aWV3cG9ydERpbWVuc2lvbnMsIGxvYWRDb21wbGV0ZUNhbGxiYWNrKSB7XG4gICAgbGV0IHRpbGVzID0gc2NlbmVEZWYubWFwRGVmLnRpbGVJbWFnZVBhdGhzLm1hcCh0aWxlSW1hZ2VQYXRoID0+IHtcbiAgICAgIHJldHVybiBuZXcgVGlsZShbdGlsZUltYWdlUGF0aF0pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5tYXAgPSBuZXcgTWFwKHRpbGVzLCBzY2VuZURlZi5tYXBEZWYubWFwU2l6ZSk7XG5cbiAgICB0aGlzLm1vYmlsZXMgPSBzY2VuZURlZi5tb2JpbGVEZWZzLm1hcChtb2JpbGVEZWYgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBFbnRpdHkobW9iaWxlRGVmLCB0aGlzLm1hcCwgbmV3IE1vYmlsZUJyYWluKCkpO1xuICAgIH0pO1xuICAgIHRoaXMuYWN0aXZlTW9iaWxlID0gdGhpcy5tb2JpbGVzWzBdO1xuICAgIHRoaXMucHJvcHMgPSBzY2VuZURlZi5wcm9wRGVmcy5tYXAocHJvcERlZiA9PiB7XG4gICAgICByZXR1cm4gbmV3IEVudGl0eShwcm9wRGVmLCB0aGlzLm1hcCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnZpZXdwb3J0ID0gdmlld3BvcnQ7XG4gICAgdGhpcy52aWV3cG9ydERpbWVuc2lvbnMgPSB2aWV3cG9ydERpbWVuc2lvbnM7XG5cbiAgICBBc3NldHMubG9hZEFzc2V0cyhbLi4udGlsZXMsIC4uLnRoaXMubW9iaWxlcywgLi4udGhpcy5wcm9wc10sICgpID0+IHtcbiAgICAgIHRoaXMudmlld3BvcnRPZmZzZXREaW1lbnNpb25zID0ge1xuICAgICAgICB4OiB0aGlzLm1hcC5tYXBDYW52YXMud2lkdGggLyAyIC0gdmlld3BvcnREaW1lbnNpb25zLnggLyAyLFxuICAgICAgICB5OiB0aGlzLm1hcC5tYXBDYW52YXMuaGVpZ2h0IC8gMiAtIHZpZXdwb3J0RGltZW5zaW9ucy55IC8gMlxuICAgICAgfTtcbiAgICAgIGxvYWRDb21wbGV0ZUNhbGxiYWNrKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLndhaXRpbmdPbkFuaW1hdGlvbiA9IGZhbHNlO1xuICB9XG5cbiAgdGljaygpIHtcbiAgICBsZXQgbW91c2VFdmVudCA9IElucHV0LmdldE1vdXNlRXZlbnQoKTtcbiAgICBpZiAobW91c2VFdmVudCAhPSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCBldmVudFZpZXdwb3J0UG9zaXRpb24gPSBnZXRFdmVudFZpZXdwb3J0UG9zaXRpb24oXG4gICAgICAgIHRoaXMudmlld3BvcnQsXG4gICAgICAgIG1vdXNlRXZlbnRcbiAgICAgICk7XG4gICAgICBsZXQgZXZlbnRNYXBQb3NpdGlvbiA9IGdldEN1cnNvck1hcFBvc2l0aW9uKFxuICAgICAgICB0aGlzLnZpZXdwb3J0T2Zmc2V0RGltZW5zaW9ucyxcbiAgICAgICAgZXZlbnRWaWV3cG9ydFBvc2l0aW9uXG4gICAgICApO1xuICAgICAgbGV0IHRpbGVQb3NpdGlvbiA9IGdldEN1cnNvclRpbGVQb3NpdGlvbih0aGlzLm1hcCwgZXZlbnRNYXBQb3NpdGlvbik7XG5cbiAgICAgIGlmICghdGhpcy53YWl0aW5nT25BbmltYXRpb24pIHtcbiAgICAgICAgdGhpcy5hY3RpdmVNb2JpbGUucmVzcG9uZFRvTW91c2UodGlsZVBvc2l0aW9uLCBzaG91bGRXYWl0ID0+IHtcbiAgICAgICAgICB0aGlzLndhaXRpbmdPbkFuaW1hdGlvbiA9IHNob3VsZFdhaXQ7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLm1vYmlsZXMuc2xpY2UoLTEpWzBdID09IHRoaXMuYWN0aXZlTW9iaWxlKSB7XG4gICAgICAgICAgdGhpcy5hY3RpdmVNb2JpbGUgPSB0aGlzLm1vYmlsZXNbMF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5hY3RpdmVNb2JpbGUgPSB0aGlzLm1vYmlsZXNbXG4gICAgICAgICAgICB0aGlzLm1vYmlsZXMuaW5kZXhPZih0aGlzLmFjdGl2ZU1vYmlsZSkgKyAxXG4gICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMubW9iaWxlcy5mb3JFYWNoKG1vYmlsZSA9PiB7XG4gICAgICBtb2JpbGUudGljaygpO1xuICAgIH0pO1xuICAgIHRoaXMucHJvcHMuZm9yRWFjaChwcm9wID0+IHtcbiAgICAgIHByb3AudGljaygpO1xuICAgIH0pO1xuXG4gICAgbGV0IGNvbnRleHQgPSB0aGlzLnZpZXdwb3J0LmdldENvbnRleHQoJzJkJyk7XG4gICAgY29udGV4dC5jbGVhclJlY3QoXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIHRoaXMudmlld3BvcnREaW1lbnNpb25zLngsXG4gICAgICB0aGlzLnZpZXdwb3J0RGltZW5zaW9ucy55XG4gICAgKTtcbiAgICBjb250ZXh0LmRyYXdJbWFnZShcbiAgICAgIHRoaXMubWFwLm1hcENhbnZhcyxcbiAgICAgIHRoaXMudmlld3BvcnRPZmZzZXREaW1lbnNpb25zLngsXG4gICAgICB0aGlzLnZpZXdwb3J0T2Zmc2V0RGltZW5zaW9ucy55LFxuICAgICAgdGhpcy52aWV3cG9ydERpbWVuc2lvbnMueCxcbiAgICAgIHRoaXMudmlld3BvcnREaW1lbnNpb25zLnksXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIHRoaXMudmlld3BvcnREaW1lbnNpb25zLngsXG4gICAgICB0aGlzLnZpZXdwb3J0RGltZW5zaW9ucy55XG4gICAgKTtcblxuICAgIHRoaXMubW9iaWxlcy5mb3JFYWNoKG1vYmlsZSA9PiB7XG4gICAgICBjb250ZXh0LmRyYXdJbWFnZShcbiAgICAgICAgbW9iaWxlLmltYWdlLFxuICAgICAgICBtb2JpbGUuZnJhbWVYT3JpZ2luLFxuICAgICAgICBtb2JpbGUuZnJhbWVZT3JpZ2luLFxuICAgICAgICBtb2JpbGUuZnJhbWVTaXplLndpZHRoLFxuICAgICAgICBtb2JpbGUuZnJhbWVTaXplLmhlaWdodCxcbiAgICAgICAgbW9iaWxlLmxvY2F0aW9uLnggLSB0aGlzLnZpZXdwb3J0T2Zmc2V0RGltZW5zaW9ucy54LFxuICAgICAgICBtb2JpbGUubG9jYXRpb24ueSAtIHRoaXMudmlld3BvcnRPZmZzZXREaW1lbnNpb25zLnksXG4gICAgICAgIG1vYmlsZS5mcmFtZVNpemUud2lkdGgsXG4gICAgICAgIG1vYmlsZS5mcmFtZVNpemUuaGVpZ2h0XG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgdGhpcy5wcm9wcy5mb3JFYWNoKHByb3AgPT4ge1xuICAgICAgY29udGV4dC5kcmF3SW1hZ2UoXG4gICAgICAgIHByb3AuaW1hZ2UsXG4gICAgICAgIHByb3AuZnJhbWVYT3JpZ2luLFxuICAgICAgICBwcm9wLmZyYW1lWU9yaWdpbixcbiAgICAgICAgcHJvcC5mcmFtZVNpemUud2lkdGgsXG4gICAgICAgIHByb3AuZnJhbWVTaXplLmhlaWdodCxcbiAgICAgICAgcHJvcC5sb2NhdGlvbi54IC0gdGhpcy52aWV3cG9ydE9mZnNldERpbWVuc2lvbnMueCxcbiAgICAgICAgcHJvcC5sb2NhdGlvbi55IC0gdGhpcy52aWV3cG9ydE9mZnNldERpbWVuc2lvbnMueSxcbiAgICAgICAgcHJvcC5mcmFtZVNpemUud2lkdGgsXG4gICAgICAgIHByb3AuZnJhbWVTaXplLmhlaWdodFxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIElucHV0LnJlc2V0SW5wdXRzKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0Q3Vyc29yTWFwUG9zaXRpb24odmlld09mZnNldHMsIHBvc2l0aW9uKSB7XG4gIHJldHVybiB7IHg6IHZpZXdPZmZzZXRzLnggKyBwb3NpdGlvbi54LCB5OiB2aWV3T2Zmc2V0cy55ICsgcG9zaXRpb24ueSB9O1xufVxuXG5mdW5jdGlvbiBnZXRDdXJzb3JUaWxlUG9zaXRpb24obWFwLCBwb3NpdGlvbikge1xuICBsZXQgaGFsZlRpbGVXaWR0aCA9IG1hcC50aWxlV2lkdGggLyAyO1xuICBsZXQgaGFsZlRpbGVIZWlnaHQgPSBtYXAudGlsZUhlaWdodCAvIDI7XG4gIGxldCBoYWxmTWFwU2l6ZSA9IG1hcC5tYXBTaXplIC8gMjtcbiAgbGV0IHRpbGVYID1cbiAgICAocG9zaXRpb24ueCAvIGhhbGZUaWxlV2lkdGggKyBwb3NpdGlvbi55IC8gaGFsZlRpbGVIZWlnaHQpIC8gMiAtXG4gICAgaGFsZk1hcFNpemU7XG4gIGxldCB0aWxlWSA9XG4gICAgKHBvc2l0aW9uLnkgLyBoYWxmVGlsZUhlaWdodCAtIHBvc2l0aW9uLnggLyBoYWxmVGlsZVdpZHRoKSAvIDIgK1xuICAgIGhhbGZNYXBTaXplO1xuICByZXR1cm4geyB4OiBNYXRoLmZsb29yKHRpbGVYKSwgeTogTWF0aC5mbG9vcih0aWxlWSkgfTtcbn1cblxuZnVuY3Rpb24gZ2V0RXZlbnRWaWV3cG9ydFBvc2l0aW9uKHZpZXdwb3J0LCBldmVudCkge1xuICBsZXQgcmVjdCA9IHZpZXdwb3J0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBsZXQgeCA9IGV2ZW50LmNsaWVudFggLSByZWN0LmxlZnQ7XG4gIGxldCB5ID0gZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wO1xuICByZXR1cm4geyB4OiB4LCB5OiB5IH07XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBjb25zdCBzY2VuZURlZiA9IHtcbiAgbWFwRGVmOiB7XG4gICAgbWFwU2l6ZTogMTAsXG4gICAgdGlsZUltYWdlUGF0aHM6IFtcbiAgICAgICcuL3NyYy9pbWcvZ3JvdW5kX3RpbGVzL2JyaWNrcGF2ZXJzMi5wbmcnLFxuICAgICAgJy4vc3JjL2ltZy9ncm91bmRfdGlsZXMvY29uY3JldGUzNjhhLnBuZycsXG4gICAgICAnLi9zcmMvaW1nL2dyb3VuZF90aWxlcy9jcmV0ZWJyaWNrOTcwLnBuZycsXG4gICAgICAnLi9zcmMvaW1nL2dyb3VuZF90aWxlcy9kaXJ0LnBuZycsXG4gICAgICAnLi9zcmMvaW1nL2dyb3VuZF90aWxlcy9kaXJ0c2FuZDIucG5nJyxcbiAgICAgICcuL3NyYy9pbWcvZ3JvdW5kX3RpbGVzL3JvY2sucG5nJyxcbiAgICAgICcuL3NyYy9pbWcvZ3JvdW5kX3RpbGVzL3Nub3cucG5nJyxcbiAgICAgICcuL3NyYy9pbWcvZ3JvdW5kX3RpbGVzL3N0b25lLnBuZydcbiAgICBdXG4gIH0sXG4gIG1vYmlsZURlZnM6IFtcbiAgICB7XG4gICAgICBpbWFnZVBhdGhzOiBbJy4vc3JjL2ltZy9tb2JpbGVzLzh3YXlfbW9iaWxlLnBuZyddLFxuICAgICAgc3RhcnRUaWxlOiB7IHg6IDMsIHk6IDMgfSxcbiAgICAgIGZyYW1lU2l6ZTogeyB3aWR0aDogNjAsIGhlaWdodDogMTEwIH0sXG4gICAgICBmcmFtZU9mZnNldHM6IHsgeDogMzAsIHk6IDExMCB9XG4gICAgfSxcbiAgICB7XG4gICAgICBpbWFnZVBhdGhzOiBbJy4vc3JjL2ltZy9tb2JpbGVzLzh3YXlfbW9iaWxlLnBuZyddLFxuICAgICAgc3RhcnRUaWxlOiB7IHg6IDUsIHk6IDQgfSxcbiAgICAgIGZyYW1lU2l6ZTogeyB3aWR0aDogNjAsIGhlaWdodDogMTEwIH0sXG4gICAgICBmcmFtZU9mZnNldHM6IHsgeDogMzAsIHk6IDExMCB9XG4gICAgfSxcbiAgICB7XG4gICAgICBpbWFnZVBhdGhzOiBbJy4vc3JjL2ltZy9tb2JpbGVzLzh3YXlfbW9iaWxlLnBuZyddLFxuICAgICAgc3RhcnRUaWxlOiB7IHg6IDMsIHk6IDYgfSxcbiAgICAgIGZyYW1lU2l6ZTogeyB3aWR0aDogNjAsIGhlaWdodDogMTEwIH0sXG4gICAgICBmcmFtZU9mZnNldHM6IHsgeDogMzAsIHk6IDExMCB9XG4gICAgfVxuICBdLFxuICBwcm9wRGVmczogW1xuICAgIHtcbiAgICAgIGltYWdlUGF0aHM6IFsnLi9zcmMvaW1nL3Byb3BzL3N0YXR1ZTEtMDEucG5nJ10sXG4gICAgICBzdGFydFRpbGU6IHsgeDogNSwgeTogNSB9LFxuICAgICAgZnJhbWVTaXplOiB7IHdpZHRoOiAxMjgsIGhlaWdodDogMTI4IH0sXG4gICAgICBmcmFtZU9mZnNldHM6IHsgeDogMCwgeTogMTQgfVxuICAgIH0sXG4gICAge1xuICAgICAgaW1hZ2VQYXRoczogWycuL3NyYy9pbWcvcHJvcHMvc3RhdHVlMS0wMi5wbmcnXSxcbiAgICAgIHN0YXJ0VGlsZTogeyB4OiAwLCB5OiAzIH0sXG4gICAgICBmcmFtZVNpemU6IHsgd2lkdGg6IDEyOCwgaGVpZ2h0OiAxMjggfSxcbiAgICAgIGZyYW1lT2Zmc2V0czogeyB4OiAwLCB5OiAxNCB9XG4gICAgfSxcbiAgICB7XG4gICAgICBpbWFnZVBhdGhzOiBbJy4vc3JjL2ltZy9wcm9wcy9zdGF0dWUxLTAzLnBuZyddLFxuICAgICAgc3RhcnRUaWxlOiB7IHg6IDQsIHk6IDEgfSxcbiAgICAgIGZyYW1lU2l6ZTogeyB3aWR0aDogMTI4LCBoZWlnaHQ6IDEyOCB9LFxuICAgICAgZnJhbWVPZmZzZXRzOiB7IHg6IDAsIHk6IDE0IH1cbiAgICB9LFxuICAgIHtcbiAgICAgIGltYWdlUGF0aHM6IFsnLi9zcmMvaW1nL3Byb3BzL3N0YXR1ZTEtMDQucG5nJ10sXG4gICAgICBzdGFydFRpbGU6IHsgeDogNSwgeTogMSB9LFxuICAgICAgZnJhbWVTaXplOiB7IHdpZHRoOiAxMjgsIGhlaWdodDogMTI4IH0sXG4gICAgICBmcmFtZU9mZnNldHM6IHsgeDogMCwgeTogMTQgfVxuICAgIH0sXG4gICAge1xuICAgICAgaW1hZ2VQYXRoczogWycuL3NyYy9pbWcvcHJvcHMvc3RhdHVlMS0wMi5wbmcnXSxcbiAgICAgIHN0YXJ0VGlsZTogeyB4OiA2LCB5OiAwIH0sXG4gICAgICBmcmFtZVNpemU6IHsgd2lkdGg6IDEyOCwgaGVpZ2h0OiAxMjggfSxcbiAgICAgIGZyYW1lT2Zmc2V0czogeyB4OiAwLCB5OiAxNCB9XG4gICAgfSxcbiAgICB7XG4gICAgICBpbWFnZVBhdGhzOiBbJy4vc3JjL2ltZy9wcm9wcy9zdGF0dWUxLTAzLnBuZyddLFxuICAgICAgc3RhcnRUaWxlOiB7IHg6IDcsIHk6IDkgfSxcbiAgICAgIGZyYW1lU2l6ZTogeyB3aWR0aDogMTI4LCBoZWlnaHQ6IDEyOCB9LFxuICAgICAgZnJhbWVPZmZzZXRzOiB7IHg6IDAsIHk6IDE0IH1cbiAgICB9XG4gIF1cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCAnLi9zdHlsZXMvaW5kZXguY3NzJztcblxuaW1wb3J0IHsgSW5wdXQgfSBmcm9tICcuL2lucHV0JztcbmltcG9ydCBTY2VuZSBmcm9tICcuL3NjZW5lJztcbmltcG9ydCB7IHNjZW5lRGVmIH0gZnJvbSAnLi9zY2VuZV9kZWZpbml0aW9uJztcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKCkge1xuICBjb25zb2xlLmxvZygnUHJveG1hIFJldmVyaWUgYXBwcm9hY2hlcyEnKTtcblxuICBsZXQgdGlja0xlbmd0aCA9IDUwO1xuXG4gIHZhciB2aWV3cG9ydCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2aWV3cG9ydC1jYW52YXMnKTtcbiAgbGV0IHZpZXdwb3J0RGltZW5zaW9ucyA9IHsgeDogNjAwLCB5OiA0MDAgfTtcbiAgdmlld3BvcnQud2lkdGggPSB2aWV3cG9ydERpbWVuc2lvbnMueDtcbiAgdmlld3BvcnQuaGVpZ2h0ID0gdmlld3BvcnREaW1lbnNpb25zLnk7XG5cbiAgbGV0IHNjZW5lID0gbmV3IFNjZW5lKHNjZW5lRGVmLCB2aWV3cG9ydCwgdmlld3BvcnREaW1lbnNpb25zLCAoKSA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aWNrKCk7XG4gICAgfSwgMCk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHRpY2soKSB7XG4gICAgc2NlbmUudGljaygpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGljaygpO1xuICAgIH0sIHRpY2tMZW5ndGgpO1xuICB9XG5cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGV2ZW50ID0+IHtcbiAgICBJbnB1dC5rZXlEb3duKGV2ZW50LmtleSk7XG4gIH0pO1xuXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZXZlbnQgPT4ge1xuICAgIElucHV0LmtleVVwKGV2ZW50LmtleSk7XG4gIH0pO1xuXG4gIHZpZXdwb3J0LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBldmVudCA9PiB7XG4gICAgSW5wdXQubW91c2VVcChldmVudCk7XG4gIH0pO1xufSk7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNuREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDbENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNuQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ2pFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUM5RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDckZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNuSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUMxRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n")},,function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zdHlsZXMvaW5kZXguY3NzPzU5ZDAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n")}]);