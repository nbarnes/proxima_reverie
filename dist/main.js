!function(t){var n={};function e(l){if(n[l])return n[l].exports;var i=n[l]={i:l,l:!1,exports:{}};return t[l].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=n,e.d=function(t,n,l){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:l})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var l=Object.create(null);if(e.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(l,i,function(n){return t[n]}.bind(null,i));return l},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=2)}([,function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zdHlsZXMvaW5kZXguY3NzPzU5ZDAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./src/styles/index.css\nvar styles = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/load_images.js\n\n\n\nfunction loadImages(imagePaths, callback) {\n  let imagesRemaining = imagePaths.length;\n  let images = [];\n  for (let imagePath of imagePaths) {\n    let img = new Image();\n    img.onload = function() {\n      imagesRemaining--;\n      if (imagesRemaining <= 0) {\n        callback(images);\n      }\n    };\n    img.src = imagePath;\n    images.push(img);\n  }\n}\n\n// CONCATENATED MODULE: ./src/util.js\n\n\n\nconst imagePaths = [\n  './src/img/ground_tiles/brickpavers2.png',\n  './src/img/ground_tiles/concrete368a.png',\n  './src/img/ground_tiles/cretebrick970.png',\n  './src/img/ground_tiles/dirt.png',\n  './src/img/ground_tiles/dirtsand2.png',\n  './src/img/ground_tiles/rock.png',\n  './src/img/ground_tiles/snow.png',\n  './src/img/ground_tiles/stone.png'\n];\n\n\nconst rand = (max) => {\n  return Math.floor(Math.random() * Math.floor(max));\n}\n\n// CONCATENATED MODULE: ./src/map.js\n\n\n\n\n\nfunction makeMap(mapSize, tileImgs, tileWidth, tileHeight) {\n  let map = document.createElement(\"canvas\");\n  map.width = mapSize * tileWidth - mapSize;\n  map.height = mapSize * tileHeight - mapSize;\n  drawMap(map.getContext(\"2d\"), buildMapDef(mapSize, tileImgs.length), tileImgs, tileWidth, tileHeight);\n  return map;\n}\n\nfunction buildMapDef(mapSize, tileCount) {\n  let mapDef = [];\n  for (let i = 0; i < mapSize; i++) {\n    mapDef[i] = [];\n    for (let j = 0; j < mapSize; j++) {\n      mapDef[i][j] = rand(tileCount);\n    }\n  }\n  return mapDef;\n}\n\nfunction drawMap(context, mapDef, tileImgs, tileWidth, tileHeight) {\n  for (let [x, row] of mapDef.entries()) {\n    for (let [y, tileIndex] of row.entries()) {\n      drawTile(context, mapDef[0].length, tileImgs[tileIndex], x, y, tileWidth, tileHeight);\n    }\n  }\n}\n\nfunction drawTile(context, mapSize, img, mapX, mapY, tileWidth, tileHeight) {\n  let xOffset = ((mapSize * tileWidth) / 2) - (tileWidth / 2);\n  let contextX = ((mapX - mapY) * (tileWidth / 2)) - mapX + xOffset;\n  let contextY = (mapX + mapY) * (tileHeight / 2) - mapY;\n  console.log(`${contextX}, ${contextY}`);\n  context.drawImage(img, contextX, contextY, tileWidth, tileHeight);\n}\n\n// CONCATENATED MODULE: ./src/index.js\n\n\n\n\n\n\n\n\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n\n  console.log(\"Proxma Reverie approaches!\");\n\n  var viewport = document.getElementById('viewport-canvas');\n  var viewportContext = viewport.getContext('2d');\n  let viewportWidth = 600, viewportHeight = 400;\n  viewport.width = viewportWidth;\n  viewport.height = viewportHeight;\n\n  let tileWidth = 128, tileHeight = 64;\n\n  let mapSize = 20;\n\n  let viewportLimitX = (mapSize * tileWidth) - viewportWidth;\n  let viewportLimitY = (mapSize * tileHeight) - viewportHeight;\n\n  viewportContext.fillStyle = 'white';\n  viewportContext.fillRect(0, 0, viewportWidth, viewportHeight);\n\n  loadImages(imagePaths, (images) => {\n    document.getElementById('loading-images-message').classList.add('hide');\n    document.getElementById('images-loaded-message').classList.remove('hide');\n\n    let map = makeMap(mapSize, images, tileWidth, tileHeight);\n\n    document.body.appendChild(map);\n\n    viewportContext.drawImage(map, 0, 0, viewportWidth, viewportHeight, 0, 0, viewportWidth, viewportHeight);\n\n  });\n\n\n\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9sb2FkX2ltYWdlcy5qcz8wNWFkIiwid2VicGFjazovLy8uL3NyYy91dGlsLmpzP2UwZWIiLCJ3ZWJwYWNrOi8vLy4vc3JjL21hcC5qcz8xOGJhIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcz9iNjM1Il0sInNvdXJjZXNDb250ZW50IjpbIlxuXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGxvYWRJbWFnZXMoaW1hZ2VQYXRocywgY2FsbGJhY2spIHtcbiAgbGV0IGltYWdlc1JlbWFpbmluZyA9IGltYWdlUGF0aHMubGVuZ3RoO1xuICBsZXQgaW1hZ2VzID0gW107XG4gIGZvciAobGV0IGltYWdlUGF0aCBvZiBpbWFnZVBhdGhzKSB7XG4gICAgbGV0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIGltYWdlc1JlbWFpbmluZy0tO1xuICAgICAgaWYgKGltYWdlc1JlbWFpbmluZyA8PSAwKSB7XG4gICAgICAgIGNhbGxiYWNrKGltYWdlcyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBpbWcuc3JjID0gaW1hZ2VQYXRoO1xuICAgIGltYWdlcy5wdXNoKGltZyk7XG4gIH1cbn1cbiIsIlxuXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydCBjb25zdCBpbWFnZVBhdGhzID0gW1xuICAnLi9zcmMvaW1nL2dyb3VuZF90aWxlcy9icmlja3BhdmVyczIucG5nJyxcbiAgJy4vc3JjL2ltZy9ncm91bmRfdGlsZXMvY29uY3JldGUzNjhhLnBuZycsXG4gICcuL3NyYy9pbWcvZ3JvdW5kX3RpbGVzL2NyZXRlYnJpY2s5NzAucG5nJyxcbiAgJy4vc3JjL2ltZy9ncm91bmRfdGlsZXMvZGlydC5wbmcnLFxuICAnLi9zcmMvaW1nL2dyb3VuZF90aWxlcy9kaXJ0c2FuZDIucG5nJyxcbiAgJy4vc3JjL2ltZy9ncm91bmRfdGlsZXMvcm9jay5wbmcnLFxuICAnLi9zcmMvaW1nL2dyb3VuZF90aWxlcy9zbm93LnBuZycsXG4gICcuL3NyYy9pbWcvZ3JvdW5kX3RpbGVzL3N0b25lLnBuZydcbl07XG5cblxuZXhwb3J0IGNvbnN0IHJhbmQgPSAobWF4KSA9PiB7XG4gIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBNYXRoLmZsb29yKG1heCkpO1xufVxuIiwiXG5cInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IHsgcmFuZCB9IGZyb20gXCIuL3V0aWxcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWFrZU1hcChtYXBTaXplLCB0aWxlSW1ncywgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0KSB7XG4gIGxldCBtYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICBtYXAud2lkdGggPSBtYXBTaXplICogdGlsZVdpZHRoIC0gbWFwU2l6ZTtcbiAgbWFwLmhlaWdodCA9IG1hcFNpemUgKiB0aWxlSGVpZ2h0IC0gbWFwU2l6ZTtcbiAgZHJhd01hcChtYXAuZ2V0Q29udGV4dChcIjJkXCIpLCBidWlsZE1hcERlZihtYXBTaXplLCB0aWxlSW1ncy5sZW5ndGgpLCB0aWxlSW1ncywgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0KTtcbiAgcmV0dXJuIG1hcDtcbn1cblxuZnVuY3Rpb24gYnVpbGRNYXBEZWYobWFwU2l6ZSwgdGlsZUNvdW50KSB7XG4gIGxldCBtYXBEZWYgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXBTaXplOyBpKyspIHtcbiAgICBtYXBEZWZbaV0gPSBbXTtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IG1hcFNpemU7IGorKykge1xuICAgICAgbWFwRGVmW2ldW2pdID0gcmFuZCh0aWxlQ291bnQpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbWFwRGVmO1xufVxuXG5mdW5jdGlvbiBkcmF3TWFwKGNvbnRleHQsIG1hcERlZiwgdGlsZUltZ3MsIHRpbGVXaWR0aCwgdGlsZUhlaWdodCkge1xuICBmb3IgKGxldCBbeCwgcm93XSBvZiBtYXBEZWYuZW50cmllcygpKSB7XG4gICAgZm9yIChsZXQgW3ksIHRpbGVJbmRleF0gb2Ygcm93LmVudHJpZXMoKSkge1xuICAgICAgZHJhd1RpbGUoY29udGV4dCwgbWFwRGVmWzBdLmxlbmd0aCwgdGlsZUltZ3NbdGlsZUluZGV4XSwgeCwgeSwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0KTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZHJhd1RpbGUoY29udGV4dCwgbWFwU2l6ZSwgaW1nLCBtYXBYLCBtYXBZLCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQpIHtcbiAgbGV0IHhPZmZzZXQgPSAoKG1hcFNpemUgKiB0aWxlV2lkdGgpIC8gMikgLSAodGlsZVdpZHRoIC8gMik7XG4gIGxldCBjb250ZXh0WCA9ICgobWFwWCAtIG1hcFkpICogKHRpbGVXaWR0aCAvIDIpKSAtIG1hcFggKyB4T2Zmc2V0O1xuICBsZXQgY29udGV4dFkgPSAobWFwWCArIG1hcFkpICogKHRpbGVIZWlnaHQgLyAyKSAtIG1hcFk7XG4gIGNvbnNvbGUubG9nKGAke2NvbnRleHRYfSwgJHtjb250ZXh0WX1gKTtcbiAgY29udGV4dC5kcmF3SW1hZ2UoaW1nLCBjb250ZXh0WCwgY29udGV4dFksIHRpbGVXaWR0aCwgdGlsZUhlaWdodCk7XG59XG4iLCJcblwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgXCIuL3N0eWxlcy9pbmRleC5jc3NcIjtcblxuaW1wb3J0IGxvYWRJbWFnZXMgZnJvbSBcIi4vbG9hZF9pbWFnZXNcIjtcbmltcG9ydCBtYWtlTWFwIGZyb20gXCIuL21hcFwiO1xuaW1wb3J0IHsgaW1hZ2VQYXRocyB9IGZyb20gXCIuL3V0aWxcIjtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24oKSB7XG5cbiAgY29uc29sZS5sb2coXCJQcm94bWEgUmV2ZXJpZSBhcHByb2FjaGVzIVwiKTtcblxuICB2YXIgdmlld3BvcnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmlld3BvcnQtY2FudmFzJyk7XG4gIHZhciB2aWV3cG9ydENvbnRleHQgPSB2aWV3cG9ydC5nZXRDb250ZXh0KCcyZCcpO1xuICBsZXQgdmlld3BvcnRXaWR0aCA9IDYwMCwgdmlld3BvcnRIZWlnaHQgPSA0MDA7XG4gIHZpZXdwb3J0LndpZHRoID0gdmlld3BvcnRXaWR0aDtcbiAgdmlld3BvcnQuaGVpZ2h0ID0gdmlld3BvcnRIZWlnaHQ7XG5cbiAgbGV0IHRpbGVXaWR0aCA9IDEyOCwgdGlsZUhlaWdodCA9IDY0O1xuXG4gIGxldCBtYXBTaXplID0gMjA7XG5cbiAgbGV0IHZpZXdwb3J0TGltaXRYID0gKG1hcFNpemUgKiB0aWxlV2lkdGgpIC0gdmlld3BvcnRXaWR0aDtcbiAgbGV0IHZpZXdwb3J0TGltaXRZID0gKG1hcFNpemUgKiB0aWxlSGVpZ2h0KSAtIHZpZXdwb3J0SGVpZ2h0O1xuXG4gIHZpZXdwb3J0Q29udGV4dC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICB2aWV3cG9ydENvbnRleHQuZmlsbFJlY3QoMCwgMCwgdmlld3BvcnRXaWR0aCwgdmlld3BvcnRIZWlnaHQpO1xuXG4gIGxvYWRJbWFnZXMoaW1hZ2VQYXRocywgKGltYWdlcykgPT4ge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkaW5nLWltYWdlcy1tZXNzYWdlJykuY2xhc3NMaXN0LmFkZCgnaGlkZScpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWFnZXMtbG9hZGVkLW1lc3NhZ2UnKS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJyk7XG5cbiAgICBsZXQgbWFwID0gbWFrZU1hcChtYXBTaXplLCBpbWFnZXMsIHRpbGVXaWR0aCwgdGlsZUhlaWdodCk7XG5cbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1hcCk7XG5cbiAgICB2aWV3cG9ydENvbnRleHQuZHJhd0ltYWdlKG1hcCwgMCwgMCwgdmlld3BvcnRXaWR0aCwgdmlld3BvcnRIZWlnaHQsIDAsIDAsIHZpZXdwb3J0V2lkdGgsIHZpZXdwb3J0SGVpZ2h0KTtcblxuICB9KTtcblxuXG5cbn0pO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ2pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ2pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3RDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n")}]);