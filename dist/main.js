!function(t){var e={};function n(l){if(e[l])return e[l].exports;var g=e[l]={i:l,l:!1,exports:{}};return t[l].call(g.exports,g,g.exports,n),g.l=!0,g.exports}n.m=t,n.c=e,n.d=function(t,e,l){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:l})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./src/styles/index.css\nvar styles = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/asset_manager.js\n\n\n\nconst Assets = (function() {\n\n  let assets = {};\n\n  function loadAssets(assetOwners, callback) {\n    let tempAssetPaths = []\n    for (let assetOwner of assetOwners) {\n      tempAssetPaths = tempAssetPaths.concat(assetOwner.assetPaths);\n    }\n    let assetPaths = [... new Set(tempAssetPaths)];\n\n    let assetsRemaining = assetPaths.length;\n    for (let assetPath of assetPaths) {\n      let asset = new Image();\n      asset.onload = function() {\n        assets[assetPath] = asset;\n        assetsRemaining--;\n        if (assetsRemaining <= 0) {\n          for (let assetOwner of assetOwners) {\n            assetOwner.loadComplete();\n          }\n          callback();\n        }\n      };\n      asset.src = assetPath;\n    }\n  }\n\n  function get(assetPath) {\n    return assets[assetPath];\n  }\n\n  return {\n    loadAssets: loadAssets,\n    get: get\n  }\n\n})();\n\n// CONCATENATED MODULE: ./src/util.js\n\n\n\nconst tileImagePaths = [\n  './src/img/ground_tiles/brickpavers2.png',\n  './src/img/ground_tiles/concrete368a.png',\n  './src/img/ground_tiles/cretebrick970.png',\n  './src/img/ground_tiles/dirt.png',\n  './src/img/ground_tiles/dirtsand2.png',\n  './src/img/ground_tiles/rock.png',\n  './src/img/ground_tiles/snow.png',\n  './src/img/ground_tiles/stone.png'\n];\n\nconst mobileSpritePath = [\n  './src/img/mobiles/8way_mobile.png'\n]\n\nconst rand = (max) => {\n  return Math.floor(Math.random() * Math.floor(max));\n}\n\n// CONCATENATED MODULE: ./src/asset_owner.js\n\n\n\nclass AssetOwner {\n\n  constructor(assetPaths) {\n    this.assetPaths = assetPaths;\n  }\n\n}\n\n// CONCATENATED MODULE: ./src/map.js\n\n\n\n\n\n\n\nclass map_Map extends AssetOwner {\n\n  constructor(tileImagePaths, mapSize, tileWidth, tileHeight) {\n    super(tileImagePaths);\n    this.mapSize = mapSize;\n    this.tileWidth = tileWidth;\n    this.tileHeight = tileHeight;\n    this.mapDef = buildMapDef(this);\n  }\n\n  loadComplete() {\n    this.mapImage = drawMap(this);\n  }\n\n};\n\nfunction buildMapDef(map) {\n  let mapDef = [];\n  for (let i = 0; i < map.mapSize; i++) {\n    mapDef[i] = [];\n    for (let j = 0; j < map.mapSize; j++) {\n      mapDef[i][j] = map.assetPaths[rand(map.assetPaths.length)];\n    }\n  }\n  return mapDef;\n}\n\nfunction drawMap(map) {\n  let mapCanvas = document.createElement(\"canvas\");\n  mapCanvas.width = map.mapSize * map.tileWidth - map.mapSize;\n  mapCanvas.height = map.mapSize * map.tileHeight - map.mapSize;\n\n  for (let [x, row] of map.mapDef.entries()) {\n    for (let [y, tilePath] of row.entries()) {\n      drawTile(map, mapCanvas.getContext(\"2d\"), Assets.get(tilePath), x, y);\n    }\n  }\n  return mapCanvas;\n}\n\nfunction drawTile(map, context, img, mapX, mapY) {\n  let xOffset = ((map.mapSize * map.tileWidth) / 2) - (map.tileWidth / 2);\n  let contextX = ((mapX - mapY) * (map.tileWidth / 2)) - mapX + xOffset;\n  let contextY = (mapX + mapY) * (map.tileHeight / 2) - mapY;\n  context.drawImage(img, contextX, contextY, map.tileWidth, map.tileHeight);\n}\n\n// CONCATENATED MODULE: ./src/entity.js\n\n\n\n\n\n\nclass entity_Entity extends AssetOwner {\n\n  constructor(assetPaths) {\n    super(assetPaths);\n  }\n\n  loadComplete() {}\n\n  get image() {\n    return Assets.get(this.assetPaths[0]);\n  }\n\n}\n\n// CONCATENATED MODULE: ./src/keys.js\n\n\n\nconst Keys = (function() {\n\n  let keysDown = [];\n  let keysPressed = [];\n\n  function keyDown(keyCode) {\n    if (keysPressed.indexOf(keyCode) < 0) {\n      keysPressed.push(keyCode);\n    }\n    if (keysDown.indexOf(keyCode) < 0) {\n      keysDown.push(keyCode);\n    }\n  }\n\n  function keyUp(keyCode) {\n    keysDown = keysDown.filter( (element) => {\n      return element != keyCode;\n    });\n  }\n\n  function resetPresses() {\n    keysPressed = [];\n  }\n\n  function getKeysPressed() {\n    return keysDown.concat(keysPressed.filter( (key) => {\n      return keysDown.indexOf(key) < 0;\n    }));\n  }\n\n  return {\n    keyDown: keyDown,\n    keyUp: keyUp,\n    resetPresses: resetPresses,\n    getKeysPressed: getKeysPressed,\n  }\n\n})();\n\n// CONCATENATED MODULE: ./src/index.js\n\n\n\n\n\n\n\n\n\n\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n\n  console.log(\"Proxma Reverie approaches!\");\n\n  var viewport = document.getElementById('viewport-canvas');\n  var viewportContext = viewport.getContext('2d');\n  let viewportWidth = 600, viewportHeight = 400;\n  viewport.width = viewportWidth;\n  viewport.height = viewportHeight;\n\n  let tileWidth = 128, tileHeight = 64;\n\n  let mapSize = 10;\n\n  let viewOffsetLimitX = (mapSize * tileWidth) - viewportWidth - mapSize;\n  let viewOffsetLimitY = (mapSize * tileHeight) - viewportHeight - mapSize;\n\n  viewportContext.fillStyle = 'white';\n  viewportContext.fillRect(0, 0, viewportWidth, viewportHeight);\n\n  let map = new map_Map(tileImagePaths, mapSize, tileWidth, tileHeight);\n  let mobile = new entity_Entity(mobileSpritePath);\n\n  Assets.loadAssets([map, mobile], () => {\n\n    document.getElementById('loading-images-message').classList.add('hide');\n    document.getElementById('images-loaded-message').classList.remove('hide');\n\n    setTimeout(() => {\n      doTick(map);\n    }, 500);\n\n  });\n\n  let viewOffsetX = ((mapSize * tileWidth - mapSize) / 2) - (viewportWidth / 2);\n  let viewOffsetY = ((mapSize * tileHeight - mapSize) / 2) - (viewportHeight / 2);\n\n  let mobilePosX = viewportWidth / 2;\n  let mobilePosY = viewportHeight / 2;\n\n  function doTick(map) {\n    console.log('tick');\n    viewportContext.fillRect(0, 0, viewportWidth, viewportHeight);\n    viewportContext.drawImage(map.mapImage, viewOffsetX, viewOffsetY, viewportWidth, viewportHeight, 0, 0, viewportWidth, viewportHeight);\n\n    for (let keyCode of Keys.getKeysPressed()) {\n      console.log(Keys.getKeysPressed());\n      switch (keyCode) {\n        case \"ArrowLeft\":\n          mobilePosX = mobilePosX - 3;\n          break;\n        case \"ArrowRight\":\n          mobilePosX = mobilePosX + 3;\n          break;\n        case \"ArrowUp\":\n          mobilePosY = mobilePosY - 3;\n          break;\n        case \"ArrowDown\":\n          mobilePosY = mobilePosY + 3;\n          break;\n      }\n    }\n    Keys.resetPresses();\n\n    let mobileFrameWidth = 60;\n    let mobileFrameHeight = 110;\n    viewportContext.drawImage(mobile.image, 0, 0, mobileFrameWidth, mobileFrameHeight, mobilePosX, mobilePosY, mobileFrameWidth, mobileFrameHeight);\n\n    setTimeout(() => {\n      doTick(map);\n    }, 500);\n\n  }\n\n  document.addEventListener('keydown', (event) => {\n    Keys.keyDown(event.key);\n  });\n\n  document.addEventListener('keyup', (event) => {\n    Keys.keyUp(event.key);\n  });\n\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9hc3NldF9tYW5hZ2VyLmpzP2FlMGMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWwuanM/ZTBlYiIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRfb3duZXIuanM/NzRhMiIsIndlYnBhY2s6Ly8vLi9zcmMvbWFwLmpzPzE4YmEiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VudGl0eS5qcz82MjdhIiwid2VicGFjazovLy8uL3NyYy9rZXlzLmpzP2Q2MjIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzP2I2MzUiXSwic291cmNlc0NvbnRlbnQiOlsiXG5cInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0IGNvbnN0IEFzc2V0cyA9IChmdW5jdGlvbigpIHtcblxuICBsZXQgYXNzZXRzID0ge307XG5cbiAgZnVuY3Rpb24gbG9hZEFzc2V0cyhhc3NldE93bmVycywgY2FsbGJhY2spIHtcbiAgICBsZXQgdGVtcEFzc2V0UGF0aHMgPSBbXVxuICAgIGZvciAobGV0IGFzc2V0T3duZXIgb2YgYXNzZXRPd25lcnMpIHtcbiAgICAgIHRlbXBBc3NldFBhdGhzID0gdGVtcEFzc2V0UGF0aHMuY29uY2F0KGFzc2V0T3duZXIuYXNzZXRQYXRocyk7XG4gICAgfVxuICAgIGxldCBhc3NldFBhdGhzID0gWy4uLiBuZXcgU2V0KHRlbXBBc3NldFBhdGhzKV07XG5cbiAgICBsZXQgYXNzZXRzUmVtYWluaW5nID0gYXNzZXRQYXRocy5sZW5ndGg7XG4gICAgZm9yIChsZXQgYXNzZXRQYXRoIG9mIGFzc2V0UGF0aHMpIHtcbiAgICAgIGxldCBhc3NldCA9IG5ldyBJbWFnZSgpO1xuICAgICAgYXNzZXQub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGFzc2V0c1thc3NldFBhdGhdID0gYXNzZXQ7XG4gICAgICAgIGFzc2V0c1JlbWFpbmluZy0tO1xuICAgICAgICBpZiAoYXNzZXRzUmVtYWluaW5nIDw9IDApIHtcbiAgICAgICAgICBmb3IgKGxldCBhc3NldE93bmVyIG9mIGFzc2V0T3duZXJzKSB7XG4gICAgICAgICAgICBhc3NldE93bmVyLmxvYWRDb21wbGV0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgYXNzZXQuc3JjID0gYXNzZXRQYXRoO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldChhc3NldFBhdGgpIHtcbiAgICByZXR1cm4gYXNzZXRzW2Fzc2V0UGF0aF07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGxvYWRBc3NldHM6IGxvYWRBc3NldHMsXG4gICAgZ2V0OiBnZXRcbiAgfVxuXG59KSgpO1xuIiwiXG5cInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0IGNvbnN0IHRpbGVJbWFnZVBhdGhzID0gW1xuICAnLi9zcmMvaW1nL2dyb3VuZF90aWxlcy9icmlja3BhdmVyczIucG5nJyxcbiAgJy4vc3JjL2ltZy9ncm91bmRfdGlsZXMvY29uY3JldGUzNjhhLnBuZycsXG4gICcuL3NyYy9pbWcvZ3JvdW5kX3RpbGVzL2NyZXRlYnJpY2s5NzAucG5nJyxcbiAgJy4vc3JjL2ltZy9ncm91bmRfdGlsZXMvZGlydC5wbmcnLFxuICAnLi9zcmMvaW1nL2dyb3VuZF90aWxlcy9kaXJ0c2FuZDIucG5nJyxcbiAgJy4vc3JjL2ltZy9ncm91bmRfdGlsZXMvcm9jay5wbmcnLFxuICAnLi9zcmMvaW1nL2dyb3VuZF90aWxlcy9zbm93LnBuZycsXG4gICcuL3NyYy9pbWcvZ3JvdW5kX3RpbGVzL3N0b25lLnBuZydcbl07XG5cbmV4cG9ydCBjb25zdCBtb2JpbGVTcHJpdGVQYXRoID0gW1xuICAnLi9zcmMvaW1nL21vYmlsZXMvOHdheV9tb2JpbGUucG5nJ1xuXVxuXG5leHBvcnQgY29uc3QgcmFuZCA9IChtYXgpID0+IHtcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIE1hdGguZmxvb3IobWF4KSk7XG59XG4iLCJcblwidXNlIHN0cmljdFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBc3NldE93bmVyIHtcblxuICBjb25zdHJ1Y3Rvcihhc3NldFBhdGhzKSB7XG4gICAgdGhpcy5hc3NldFBhdGhzID0gYXNzZXRQYXRocztcbiAgfVxuXG59XG4iLCJcblwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgeyByYW5kIH0gZnJvbSBcIi4vdXRpbFwiO1xuaW1wb3J0IHsgQXNzZXRzIH0gZnJvbSBcIi4vYXNzZXRfbWFuYWdlclwiO1xuaW1wb3J0IEFzc2V0T3duZXIgZnJvbSBcIi4vYXNzZXRfb3duZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFwIGV4dGVuZHMgQXNzZXRPd25lciB7XG5cbiAgY29uc3RydWN0b3IodGlsZUltYWdlUGF0aHMsIG1hcFNpemUsIHRpbGVXaWR0aCwgdGlsZUhlaWdodCkge1xuICAgIHN1cGVyKHRpbGVJbWFnZVBhdGhzKTtcbiAgICB0aGlzLm1hcFNpemUgPSBtYXBTaXplO1xuICAgIHRoaXMudGlsZVdpZHRoID0gdGlsZVdpZHRoO1xuICAgIHRoaXMudGlsZUhlaWdodCA9IHRpbGVIZWlnaHQ7XG4gICAgdGhpcy5tYXBEZWYgPSBidWlsZE1hcERlZih0aGlzKTtcbiAgfVxuXG4gIGxvYWRDb21wbGV0ZSgpIHtcbiAgICB0aGlzLm1hcEltYWdlID0gZHJhd01hcCh0aGlzKTtcbiAgfVxuXG59O1xuXG5mdW5jdGlvbiBidWlsZE1hcERlZihtYXApIHtcbiAgbGV0IG1hcERlZiA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG1hcC5tYXBTaXplOyBpKyspIHtcbiAgICBtYXBEZWZbaV0gPSBbXTtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IG1hcC5tYXBTaXplOyBqKyspIHtcbiAgICAgIG1hcERlZltpXVtqXSA9IG1hcC5hc3NldFBhdGhzW3JhbmQobWFwLmFzc2V0UGF0aHMubGVuZ3RoKV07XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXBEZWY7XG59XG5cbmZ1bmN0aW9uIGRyYXdNYXAobWFwKSB7XG4gIGxldCBtYXBDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICBtYXBDYW52YXMud2lkdGggPSBtYXAubWFwU2l6ZSAqIG1hcC50aWxlV2lkdGggLSBtYXAubWFwU2l6ZTtcbiAgbWFwQ2FudmFzLmhlaWdodCA9IG1hcC5tYXBTaXplICogbWFwLnRpbGVIZWlnaHQgLSBtYXAubWFwU2l6ZTtcblxuICBmb3IgKGxldCBbeCwgcm93XSBvZiBtYXAubWFwRGVmLmVudHJpZXMoKSkge1xuICAgIGZvciAobGV0IFt5LCB0aWxlUGF0aF0gb2Ygcm93LmVudHJpZXMoKSkge1xuICAgICAgZHJhd1RpbGUobWFwLCBtYXBDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpLCBBc3NldHMuZ2V0KHRpbGVQYXRoKSwgeCwgeSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXBDYW52YXM7XG59XG5cbmZ1bmN0aW9uIGRyYXdUaWxlKG1hcCwgY29udGV4dCwgaW1nLCBtYXBYLCBtYXBZKSB7XG4gIGxldCB4T2Zmc2V0ID0gKChtYXAubWFwU2l6ZSAqIG1hcC50aWxlV2lkdGgpIC8gMikgLSAobWFwLnRpbGVXaWR0aCAvIDIpO1xuICBsZXQgY29udGV4dFggPSAoKG1hcFggLSBtYXBZKSAqIChtYXAudGlsZVdpZHRoIC8gMikpIC0gbWFwWCArIHhPZmZzZXQ7XG4gIGxldCBjb250ZXh0WSA9IChtYXBYICsgbWFwWSkgKiAobWFwLnRpbGVIZWlnaHQgLyAyKSAtIG1hcFk7XG4gIGNvbnRleHQuZHJhd0ltYWdlKGltZywgY29udGV4dFgsIGNvbnRleHRZLCBtYXAudGlsZVdpZHRoLCBtYXAudGlsZUhlaWdodCk7XG59XG4iLCJcblwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgeyBBc3NldHMgfSBmcm9tIFwiLi9hc3NldF9tYW5hZ2VyXCI7XG5pbXBvcnQgTG9hZGFibGUgZnJvbSBcIi4vYXNzZXRfb3duZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRW50aXR5IGV4dGVuZHMgTG9hZGFibGUge1xuXG4gIGNvbnN0cnVjdG9yKGFzc2V0UGF0aHMpIHtcbiAgICBzdXBlcihhc3NldFBhdGhzKTtcbiAgfVxuXG4gIGxvYWRDb21wbGV0ZSgpIHt9XG5cbiAgZ2V0IGltYWdlKCkge1xuICAgIHJldHVybiBBc3NldHMuZ2V0KHRoaXMuYXNzZXRQYXRoc1swXSk7XG4gIH1cblxufVxuIiwiXG5cInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0IGNvbnN0IEtleXMgPSAoZnVuY3Rpb24oKSB7XG5cbiAgbGV0IGtleXNEb3duID0gW107XG4gIGxldCBrZXlzUHJlc3NlZCA9IFtdO1xuXG4gIGZ1bmN0aW9uIGtleURvd24oa2V5Q29kZSkge1xuICAgIGlmIChrZXlzUHJlc3NlZC5pbmRleE9mKGtleUNvZGUpIDwgMCkge1xuICAgICAga2V5c1ByZXNzZWQucHVzaChrZXlDb2RlKTtcbiAgICB9XG4gICAgaWYgKGtleXNEb3duLmluZGV4T2Yoa2V5Q29kZSkgPCAwKSB7XG4gICAgICBrZXlzRG93bi5wdXNoKGtleUNvZGUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGtleVVwKGtleUNvZGUpIHtcbiAgICBrZXlzRG93biA9IGtleXNEb3duLmZpbHRlciggKGVsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiBlbGVtZW50ICE9IGtleUNvZGU7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFByZXNzZXMoKSB7XG4gICAga2V5c1ByZXNzZWQgPSBbXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEtleXNQcmVzc2VkKCkge1xuICAgIHJldHVybiBrZXlzRG93bi5jb25jYXQoa2V5c1ByZXNzZWQuZmlsdGVyKCAoa2V5KSA9PiB7XG4gICAgICByZXR1cm4ga2V5c0Rvd24uaW5kZXhPZihrZXkpIDwgMDtcbiAgICB9KSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGtleURvd246IGtleURvd24sXG4gICAga2V5VXA6IGtleVVwLFxuICAgIHJlc2V0UHJlc3NlczogcmVzZXRQcmVzc2VzLFxuICAgIGdldEtleXNQcmVzc2VkOiBnZXRLZXlzUHJlc3NlZCxcbiAgfVxuXG59KSgpO1xuIiwiXG5cInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IFwiLi9zdHlsZXMvaW5kZXguY3NzXCI7XG5cbmltcG9ydCB7IEFzc2V0cyB9IGZyb20gXCIuL2Fzc2V0X21hbmFnZXIuanNcIjtcbmltcG9ydCBNYXAgZnJvbSBcIi4vbWFwLmpzXCI7XG5pbXBvcnQgRW50aXR5IGZyb20gXCIuL2VudGl0eS5qc1wiO1xuaW1wb3J0IHsgdGlsZUltYWdlUGF0aHMsIG1vYmlsZVNwcml0ZVBhdGggfSBmcm9tIFwiLi91dGlsXCI7XG5pbXBvcnQgeyBLZXlzIH0gZnJvbSBcIi4va2V5c1wiO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBmdW5jdGlvbigpIHtcblxuICBjb25zb2xlLmxvZyhcIlByb3htYSBSZXZlcmllIGFwcHJvYWNoZXMhXCIpO1xuXG4gIHZhciB2aWV3cG9ydCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2aWV3cG9ydC1jYW52YXMnKTtcbiAgdmFyIHZpZXdwb3J0Q29udGV4dCA9IHZpZXdwb3J0LmdldENvbnRleHQoJzJkJyk7XG4gIGxldCB2aWV3cG9ydFdpZHRoID0gNjAwLCB2aWV3cG9ydEhlaWdodCA9IDQwMDtcbiAgdmlld3BvcnQud2lkdGggPSB2aWV3cG9ydFdpZHRoO1xuICB2aWV3cG9ydC5oZWlnaHQgPSB2aWV3cG9ydEhlaWdodDtcblxuICBsZXQgdGlsZVdpZHRoID0gMTI4LCB0aWxlSGVpZ2h0ID0gNjQ7XG5cbiAgbGV0IG1hcFNpemUgPSAxMDtcblxuICBsZXQgdmlld09mZnNldExpbWl0WCA9IChtYXBTaXplICogdGlsZVdpZHRoKSAtIHZpZXdwb3J0V2lkdGggLSBtYXBTaXplO1xuICBsZXQgdmlld09mZnNldExpbWl0WSA9IChtYXBTaXplICogdGlsZUhlaWdodCkgLSB2aWV3cG9ydEhlaWdodCAtIG1hcFNpemU7XG5cbiAgdmlld3BvcnRDb250ZXh0LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gIHZpZXdwb3J0Q29udGV4dC5maWxsUmVjdCgwLCAwLCB2aWV3cG9ydFdpZHRoLCB2aWV3cG9ydEhlaWdodCk7XG5cbiAgbGV0IG1hcCA9IG5ldyBNYXAodGlsZUltYWdlUGF0aHMsIG1hcFNpemUsIHRpbGVXaWR0aCwgdGlsZUhlaWdodCk7XG4gIGxldCBtb2JpbGUgPSBuZXcgRW50aXR5KG1vYmlsZVNwcml0ZVBhdGgpO1xuXG4gIEFzc2V0cy5sb2FkQXNzZXRzKFttYXAsIG1vYmlsZV0sICgpID0+IHtcblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkaW5nLWltYWdlcy1tZXNzYWdlJykuY2xhc3NMaXN0LmFkZCgnaGlkZScpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWFnZXMtbG9hZGVkLW1lc3NhZ2UnKS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJyk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGRvVGljayhtYXApO1xuICAgIH0sIDUwMCk7XG5cbiAgfSk7XG5cbiAgbGV0IHZpZXdPZmZzZXRYID0gKChtYXBTaXplICogdGlsZVdpZHRoIC0gbWFwU2l6ZSkgLyAyKSAtICh2aWV3cG9ydFdpZHRoIC8gMik7XG4gIGxldCB2aWV3T2Zmc2V0WSA9ICgobWFwU2l6ZSAqIHRpbGVIZWlnaHQgLSBtYXBTaXplKSAvIDIpIC0gKHZpZXdwb3J0SGVpZ2h0IC8gMik7XG5cbiAgbGV0IG1vYmlsZVBvc1ggPSB2aWV3cG9ydFdpZHRoIC8gMjtcbiAgbGV0IG1vYmlsZVBvc1kgPSB2aWV3cG9ydEhlaWdodCAvIDI7XG5cbiAgZnVuY3Rpb24gZG9UaWNrKG1hcCkge1xuICAgIGNvbnNvbGUubG9nKCd0aWNrJyk7XG4gICAgdmlld3BvcnRDb250ZXh0LmZpbGxSZWN0KDAsIDAsIHZpZXdwb3J0V2lkdGgsIHZpZXdwb3J0SGVpZ2h0KTtcbiAgICB2aWV3cG9ydENvbnRleHQuZHJhd0ltYWdlKG1hcC5tYXBJbWFnZSwgdmlld09mZnNldFgsIHZpZXdPZmZzZXRZLCB2aWV3cG9ydFdpZHRoLCB2aWV3cG9ydEhlaWdodCwgMCwgMCwgdmlld3BvcnRXaWR0aCwgdmlld3BvcnRIZWlnaHQpO1xuXG4gICAgZm9yIChsZXQga2V5Q29kZSBvZiBLZXlzLmdldEtleXNQcmVzc2VkKCkpIHtcbiAgICAgIGNvbnNvbGUubG9nKEtleXMuZ2V0S2V5c1ByZXNzZWQoKSk7XG4gICAgICBzd2l0Y2ggKGtleUNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFycm93TGVmdFwiOlxuICAgICAgICAgIG1vYmlsZVBvc1ggPSBtb2JpbGVQb3NYIC0gMztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIkFycm93UmlnaHRcIjpcbiAgICAgICAgICBtb2JpbGVQb3NYID0gbW9iaWxlUG9zWCArIDM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJBcnJvd1VwXCI6XG4gICAgICAgICAgbW9iaWxlUG9zWSA9IG1vYmlsZVBvc1kgLSAzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiQXJyb3dEb3duXCI6XG4gICAgICAgICAgbW9iaWxlUG9zWSA9IG1vYmlsZVBvc1kgKyAzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBLZXlzLnJlc2V0UHJlc3NlcygpO1xuXG4gICAgbGV0IG1vYmlsZUZyYW1lV2lkdGggPSA2MDtcbiAgICBsZXQgbW9iaWxlRnJhbWVIZWlnaHQgPSAxMTA7XG4gICAgdmlld3BvcnRDb250ZXh0LmRyYXdJbWFnZShtb2JpbGUuaW1hZ2UsIDAsIDAsIG1vYmlsZUZyYW1lV2lkdGgsIG1vYmlsZUZyYW1lSGVpZ2h0LCBtb2JpbGVQb3NYLCBtb2JpbGVQb3NZLCBtb2JpbGVGcmFtZVdpZHRoLCBtb2JpbGVGcmFtZUhlaWdodCk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGRvVGljayhtYXApO1xuICAgIH0sIDUwMCk7XG5cbiAgfVxuXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICBLZXlzLmtleURvd24oZXZlbnQua2V5KTtcbiAgfSk7XG5cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZXZlbnQpID0+IHtcbiAgICBLZXlzLmtleVVwKGV2ZW50LmtleSk7XG4gIH0pO1xuXG59KTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDeENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDcEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNwREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ2xCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUN4Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n")},,,function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zdHlsZXMvaW5kZXguY3NzPzU5ZDAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3\n")}]);